<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RealStore | Premium Luxury Marketplace</title>

    <!-- Dependencies -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">

    <style>
        /* --- 1. ENHANCED VARIABLES & DESIGN SYSTEM --- */
        :root {
            /* Navy Blue Color Palette */
            --primary: #0a192f;
            --primary-dark: #051024;
            --primary-light: #112240;
            --secondary: #1e40af;
            --accent: #3b82f6;
            --accent-hover: #2563eb;
            --accent-light: #dbeafe;
            --accent-gradient: linear-gradient(135deg, #3b82f6, #1e40af, #1e3a8a);
            --gold: #d4af37;
            --gold-light: #fef3c7;
            --silver: #c0c0c0;
            --platinum: #e5e4e2;

            /* Status Colors */
            --success: #10b981;
            --success-light: #d1fae5;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --error: #ef4444;
            --error-light: #fee2e2;
            --info: #3b82f6;
            --info-light: #dbeafe;

            /* Glass Morphism */
            --glass-bg: rgba(255, 255, 255, 0.95);
            --glass-border: rgba(255, 255, 255, 0.75);
            --glass-highlight: rgba(255, 255, 255, 0.95);
            --glass-shadow: 0 8px 32px rgba(30, 64, 175, 0.08);
            --glass-blur: 24px;

            /* Dark Mode */
            --glass-dark-bg: rgba(10, 25, 47, 0.95);
            --glass-dark-border: rgba(255, 255, 255, 0.1);

            /* Typography */
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --text-tertiary: #94a3b8;
            --text-light: #f8fafc;

            /* Shadows */
            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 4px 12px -2px rgba(30, 64, 175, 0.08);
            --shadow-md: 0 8px 25px -5px rgba(10, 25, 47, 0.12);
            --shadow-lg: 0 20px 50px -10px rgba(10, 25, 47, 0.15);
            --shadow-xl: 0 25px 60px -12px rgba(10, 25, 47, 0.2);
            --shadow-2xl: 0 35px 80px -15px rgba(0, 0, 0, 0.3);

            /* Border Radius */
            --radius-xs: 0.25rem;
            --radius-sm: 0.5rem;
            --radius-md: 0.875rem;
            --radius-lg: 1.25rem;
            --radius-xl: 2rem;
            --radius-2xl: 2.5rem;
            --radius-full: 9999px;

            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;

            /* Typography Scale */
            --text-xs: 0.75rem;
            --text-sm: 0.875rem;
            --text-base: 1rem;
            --text-lg: 1.125rem;
            --text-xl: 1.25rem;
            --text-2xl: 1.5rem;
            --text-3xl: 1.875rem;
            --text-4xl: 2.25rem;
            --text-5xl: 3rem;
            --text-6xl: 3.75rem;
            --text-7xl: 4.5rem;

            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);

            /* Layout */
            --header-height: 80px;
            --bottom-nav-height: 72px;
            --sidebar-width: 420px;
            --max-width: 1440px;

            /* Z-index Layers */
            --z-dropdown: 10;
            --z-sticky: 20;
            --z-fixed: 30;
            --z-modal-backdrop: 40;
            --z-modal: 50;
            --z-popover: 60;
            --z-tooltip: 70;
            --z-toast: 80;
            --z-lottie: 90;
        }

        /* --- 2. RESET & BASE STYLES --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--text-primary);
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        body.dark-mode {
            background: linear-gradient(135deg, #0a192f 0%, #112240 50%, #1e293b 100%);
            color: var(--text-light);
        }

        ::selection {
            background-color: var(--accent);
            color: white;
        }

        /* --- 3. LIQUID BACKGROUND ENHANCED --- */
        .liquid-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .blob {
            position: absolute;
            filter: blur(120px);
            opacity: 0.6;
            animation: float 30s infinite ease-in-out alternate;
            mix-blend-mode: multiply;
        }

        .blob-1 {
            top: -20%;
            left: -10%;
            width: 80vw;
            height: 80vw;
            background: linear-gradient(135deg, #60a5fa, #3b82f6, #1e40af);
            border-radius: 40% 60% 70% 30%;
            animation-duration: 40s;
        }

        .blob-2 {
            bottom: -20%;
            right: -10%;
            width: 90vw;
            height: 90vw;
            background: linear-gradient(135deg, #93c5fd, #60a5fa, #3b82f6);
            border-radius: 60% 40% 30% 70%;
            animation-duration: 35s;
            animation-delay: -5s;
        }

        .blob-3 {
            top: 20%;
            left: 30%;
            width: 60vw;
            height: 60vw;
            background: linear-gradient(135deg, #1e40af, #1e3a8a, #1c2568);
            opacity: 0.2;
            border-radius: 50% 40% 60% 30%;
            animation-duration: 45s;
            animation-delay: -10s;
        }

        .dark-mode .blob {
            opacity: 0.15;
            mix-blend-mode: screen;
        }

        @keyframes float {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
            }

            25% {
                transform: translate(50px, 80px) rotate(15deg) scale(1.1);
            }

            50% {
                transform: translate(-30px, 60px) rotate(-10deg) scale(0.95);
            }

            75% {
                transform: translate(40px, -40px) rotate(20deg) scale(1.05);
            }

            100% {
                transform: translate(-20px, 20px) rotate(-5deg) scale(1);
            }
        }

        /* --- 4. UTILITY CLASSES --- */
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
            border-top: 1px solid var(--glass-highlight);
            box-shadow: var(--glass-shadow);
            border-radius: var(--radius-lg);
        }

        .glass-dark {
            background: var(--glass-dark-bg);
            border: 1px solid var(--glass-dark-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .text-gradient {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-new {
            background: var(--accent);
            color: white;
        }

        .badge-sale {
            background: var(--gold);
            color: var(--primary);
        }

        .badge-popular {
            background: var(--info);
            color: white;
        }

        .badge-limited {
            background: var(--error);
            color: white;
        }

        .badge-premium {
            background: linear-gradient(135deg, var(--gold), var(--silver));
            color: var(--primary);
        }

        /* --- 5. LOADING & ANIMATIONS --- */
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(59, 130, 246, 0.2);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s linear infinite;
        }

        .loading-lg {
            width: 48px;
            height: 48px;
            border-width: 4px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
            }

            70% {
                box-shadow: 0 0 0 12px rgba(59, 130, 246, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
            }
        }

        .slide-in {
            animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(40px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .scale-in {
            animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* --- 6. TYPOGRAPHY --- */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: var(--space-lg);
        }

        h1 {
            font-size: var(--text-6xl);
            letter-spacing: -1.5px;
            font-weight: 800;
        }

        h2 {
            font-size: var(--text-5xl);
            letter-spacing: -1px;
            font-weight: 800;
        }

        h3 {
            font-size: var(--text-3xl);
            font-weight: 700;
        }

        h4 {
            font-size: var(--text-2xl);
            font-weight: 600;
        }

        .text-lead {
            font-size: var(--text-xl);
            line-height: 1.7;
            color: var(--text-secondary);
            font-weight: 400;
        }

        .text-muted {
            color: var(--text-tertiary);
            font-size: var(--text-sm);
            font-weight: 400;
        }

        /* --- 7. BUTTONS --- */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-xl);
            border-radius: var(--radius-lg);
            font-weight: 600;
            font-size: var(--text-base);
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-base);
            border: none;
            outline: none;
            position: relative;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.7s ease;
        }

        .btn:hover::after {
            left: 100%;
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        .btn-secondary {
            background: white;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .btn-secondary:hover {
            background: var(--accent-light);
           
        }

        .btn-outline {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }

        .btn-outline:hover {
            background: var(--accent);
            color: white;
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid transparent;
        }

        .btn-ghost:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .btn-icon {
            width: 48px;
            height: 48px;
            padding: 0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-sm {
            padding: var(--space-sm) var(--space-lg);
            font-size: var(--text-sm);
        }

        .btn-lg {
            padding: var(--space-lg) var(--space-2xl);
            font-size: var(--text-lg);
        }

        /* --- 8. NAVBAR ENHANCED --- */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            z-index: var(--z-fixed);
            transition: all var(--transition-base);
        }

        .navbar.scrolled {
            box-shadow: var(--shadow-lg);
            height: 70px;
        }

        .dark-mode .navbar {
            background: rgba(10, 25, 47, 0.98);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--space-xl);
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--space-xl);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-family: 'Poppins', sans-serif;
            font-size: var(--text-2xl);
            font-weight: 800;
            color: var(--accent);
            text-decoration: none;
            transition: transform var(--transition-base);
        }

        .logo:hover {
           
        }

        .logo-icon {
            width: 44px;
            height: 44px;
            background: var(--accent-gradient);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: var(--shadow-md);
        }

        /* Search Bar Enhanced */
        .search-container {
            flex: 1;
            max-width: 600px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: var(--space-md) var(--space-xl) var(--space-md) 3.5rem;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            font-size: var(--text-base);
            transition: all var(--transition-base);
            box-shadow: var(--shadow-sm);
            font-family: 'Poppins', sans-serif;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1), var(--shadow-md);
            background: white;
        }

        .search-icon {
            position: absolute;
            left: var(--space-lg);
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
            pointer-events: none;
        }

        /* Navigation Actions */
        .nav-actions {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .nav-action-btn {
            position: relative;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            color: var(--text-secondary);
            transition: all var(--transition-base);
        }

        .nav-action-btn:hover {
            background: var(--accent-light);
            color: var(--accent);
           
            box-shadow: var(--shadow-sm);
        }

        .action-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            min-width: 20px;
            height: 20px;
            background: var(--accent);
            color: white;
            font-size: var(--text-xs);
            font-weight: 800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
        }

        /* User Menu */
        .user-menu {
            position: relative;
        }

        .user-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--accent-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            cursor: pointer;
            transition: transform var(--transition-base);
            font-family: 'Poppins', sans-serif;
        }

        .user-avatar:hover {
            transform: scale(1.05);
        }

        .user-dropdown {
            position: absolute;
            top: calc(100% + var(--space-sm));
            right: 0;
            width: 280px;
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all var(--transition-base);
            z-index: var(--z-dropdown);
        }

        .user-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-dropdown-header {
            padding: var(--space-lg);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .user-dropdown-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md) var(--space-lg);
            color: var(--text-primary);
            text-decoration: none;
            transition: background var(--transition-fast);
            font-family: 'Poppins', sans-serif;
        }

        .user-dropdown-item:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        /* Mobile Menu Button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            padding: var(--space-sm);
            border-radius: var(--radius-md);
        }

        /* --- 9. HERO SECTION ENHANCED --- */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding-top: var(--header-height);
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.95), rgba(10, 25, 47, 0.95));
            z-index: -1;
        }

        .hero-content {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: var(--space-3xl) var(--space-xl);
            position: relative;
            z-index: 1;
            width: 100%;
        }

        .hero-title {
            font-size: var(--text-7xl);
            color: white;
            margin-bottom: var(--space-xl);
            line-height: 1.1;
            font-weight: 800;
        }

        .hero-subtitle {
            font-size: var(--text-2xl);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: var(--space-2xl);
            max-width: 800px;
            font-weight: 400;
        }

        .hero-stats {
            display: flex;
            gap: var(--space-2xl);
            margin-bottom: var(--space-3xl);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .stat-number {
            font-size: var(--text-4xl);
            font-weight: 800;
            color: var(--gold);
            margin-bottom: var(--space-xs);
        }

        .stat-label {
            font-size: var(--text-sm);
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        /* --- 10. FEATURES SECTION --- */
        .features {
            padding: var(--space-3xl) var(--space-xl);
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.8), rgba(241, 245, 249, 0.6));
        }

        .dark-mode .features {
            background: linear-gradient(135deg, rgba(10, 25, 47, 0.8), rgba(17, 34, 64, 0.6));
        }

        .section-title {
            text-align: center;
            margin-bottom: var(--space-3xl);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .feature-card {
            padding: var(--space-2xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            text-align: center;
            transition: all var(--transition-base);
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--accent-gradient);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-lg);
            color: white;
            font-size: 2rem;
        }

        /* --- 11. PRODUCTS SECTION --- */
        .products-section {
            padding: var(--space-3xl) var(--space-xl);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2xl);
            flex-wrap: wrap;
            gap: var(--space-lg);
        }

        .category-filters {
            display: flex;
            gap: var(--space-sm);
            overflow-x: auto;
            padding-bottom: var(--space-sm);
            scrollbar-width: none;
        }

        .category-filters::-webkit-scrollbar {
            display: none;
        }

        .category-filter {
            padding: var(--space-sm) var(--space-lg);
            background: white;
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-base);
            white-space: nowrap;
            font-family: 'Poppins', sans-serif;
        }

        .category-filter.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .category-filter:hover:not(.active) {
            border-color: var(--accent);
            color: var(--accent);
        }

        /* Product Grid Enhanced */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-xl);
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .product-card {
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            overflow: hidden;
            position: relative;
            transition: all var(--transition-base);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .product-badges {
            position: absolute;
            top: var(--space-md);
            left: var(--space-md);
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            z-index: 1;
        }

        .product-image {
            position: relative;
            padding-top: 100%;
            background: #f8fafc;
            overflow: hidden;
        }

        .product-image img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .product-card:hover .product-image img {
            transform: scale(1.05);
        }

        .product-actions {
            position: absolute;
            top: var(--space-md);
            right: var(--space-md);
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            opacity: 0;
            transform: translateX(10px);
            transition: all var(--transition-base);
        }

        .product-card:hover .product-actions {
            opacity: 1;
        }

        .product-action-btn {
            width: 40px;
            height: 40px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            transition: all var(--transition-base);
        }

        .product-action-btn:hover {
            background: var(--accent);
            color: white;
            transform: scale(1.1);
        }

        .product-action-btn.active {
            background: var(--accent);
            color: white;
        }

        .product-content {
            padding: var(--space-lg);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .product-category {
            font-size: var(--text-xs);
            font-weight: 700;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: var(--space-xs);
        }

        .product-title {
            font-family: 'Poppins', sans-serif;
            font-size: var(--text-xl);
            font-weight: 700;
            margin-bottom: var(--space-sm);
            line-height: 1.3;
        }

        .product-description {
            color: var(--text-secondary);
            font-size: var(--text-sm);
            margin-bottom: var(--space-lg);
            flex: 1;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            margin-bottom: var(--space-md);
        }

        .rating-stars {
            color: var(--gold);
        }

        .rating-count {
            color: var(--text-tertiary);
            font-size: var(--text-sm);
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            padding-top: var(--space-lg);
            border-top: 1px solid rgba(59, 130, 246, 0.1);
        }

        .product-price {
            font-size: var(--text-2xl);
            font-weight: 800;
            color: var(--accent);
        }

        .product-price.old {
            font-size: var(--text-lg);
            color: var(--text-tertiary);
            text-decoration: line-through;
            margin-left: var(--space-xs);
            font-weight: 600;
        }

        /* --- 12. TESTIMONIALS SECTION --- */
        .testimonials {
            padding: var(--space-3xl) var(--space-xl);
            background: linear-gradient(135deg, rgba(248, 250, 252, 0.8), rgba(219, 234, 254, 0.4));
        }

        .dark-mode .testimonials {
            background: linear-gradient(135deg, rgba(10, 25, 47, 0.8), rgba(30, 58, 138, 0.4));
        }

        .testimonial-slider {
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .swiper {
            padding: var(--space-lg) var(--space-md) var(--space-2xl);
        }

        .testimonial-card {
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            padding: var(--space-2xl);
            height: auto;
        }

        .testimonial-content {
            font-size: var(--text-lg);
            color: var(--text-secondary);
            margin-bottom: var(--space-xl);
            line-height: 1.7;
            position: relative;
            font-style: italic;
        }

        .testimonial-content::before {
            content: '"';
            font-family: 'Poppins', sans-serif;
            font-size: 4rem;
            color: var(--accent);
            opacity: 0.3;
            position: absolute;
            top: -20px;
            left: -10px;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .author-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }

        .author-info h4 {
            font-size: var(--text-lg);
            margin-bottom: var(--space-xs);
            font-weight: 700;
        }

        .author-info p {
            color: var(--text-tertiary);
            font-size: var(--text-sm);
            font-weight: 400;
        }

        /* --- 13. CTA SECTION --- */
        .cta-section {
            padding: var(--space-3xl) var(--space-xl);
            background: var(--accent-gradient);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cta-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .cta-title {
            font-size: var(--text-5xl);
            margin-bottom: var(--space-lg);
            font-weight: 800;
        }

        .cta-subtitle {
            font-size: var(--text-xl);
            opacity: 0.9;
            margin-bottom: var(--space-2xl);
            font-weight: 400;
        }

        .cta-buttons {
            display: flex;
            gap: var(--space-md);
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-bg-pattern {
            position: absolute;
            inset: 0;
            opacity: 0.1;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.4' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        /* --- 14. FOOTER --- */
        .footer {
            background: var(--primary);
            color: white;
            padding: var(--space-3xl) var(--space-xl);
        }

        .footer-content {
            max-width: var(--max-width);
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-2xl);
        }

        .footer-column h3 {
            color: white;
            font-size: var(--text-lg);
            margin-bottom: var(--space-lg);
            font-weight: 700;
        }

        .footer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color var(--transition-fast);
            font-weight: 400;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-bottom {
            max-width: var(--max-width);
            margin: var(--space-2xl) auto 0;
            padding-top: var(--space-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-lg);
        }

        .social-links {
            display: flex;
            gap: var(--space-md);
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: all var(--transition-fast);
        }

        .social-link:hover {
            background: var(--accent);
           
        }

        /* --- 15. MODALS & OVERLAYS --- */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(10, 25, 47, 0.9);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-xl);
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            border-radius: var(--radius-2xl);
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow: hidden;
            transform: scale(0.95);
            opacity: 0;
            transition: all var(--transition-base);
        }

        .modal.active {
            transform: scale(1);
            opacity: 1;
        }

        .modal-header {
            padding: var(--space-2xl);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-body {
            padding: var(--space-2xl);
            overflow-y: auto;
            max-height: calc(90vh - 140px);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            max-width: var(--sidebar-width);
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            transform: translateX(100%);
            transition: transform var(--transition-base);
            z-index: var(--z-modal);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-2xl);
        }

        .cart-sidebar.active {
            transform: translateX(0);
        }

        /* --- 16. LOTTIE ANIMATIONS --- */
        .lottie-container {
            position: fixed;
            inset: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: var(--z-lottie);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .lottie-container.active {
            opacity: 1;
            visibility: visible;
        }

        .dark-mode .lottie-container {
            background: rgba(10, 25, 47, 0.98);
        }

        .lottie-player {
            width: 300px;
            height: 300px;
        }

        .lottie-message {
            text-align: center;
            padding: var(--space-2xl);
            max-width: 500px;
        }

        .lottie-title {
            font-size: var(--text-4xl);
            margin-bottom: var(--space-lg);
            color: var(--accent);
            font-weight: 800;
        }

        .lottie-subtitle {
            font-size: var(--text-lg);
            color: var(--text-secondary);
            margin-bottom: var(--space-2xl);
            line-height: 1.6;
            font-weight: 400;
        }

        /* --- 17. BOTTOM NAV FOR MOBILE --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: var(--bottom-nav-height);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(59, 130, 246, 0.1);
            display: none;
            align-items: center;
            justify-content: space-around;
            z-index: var(--z-fixed);
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        }

        .bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            padding: var(--space-sm);
            color: var(--text-secondary);
            text-decoration: none;
            transition: all var(--transition-fast);
            flex: 1;
        }

        .bottom-nav-item.active {
            color: var(--accent);
        }

        .bottom-nav-item:hover {
            color: var(--accent);
        }

        .bottom-nav-icon {
            width: 24px;
            height: 24px;
        }

        .bottom-nav-label {
            font-size: var(--text-xs);
            font-weight: 600;
        }

        /* --- 18. RESPONSIVE DESIGN --- */
        @media (max-width: 1024px) {
            :root {
                --header-height: 70px;
            }

            h1 {
                font-size: var(--text-5xl);
            }

            h2 {
                font-size: var(--text-4xl);
            }

            .hero-title {
                font-size: var(--text-6xl);
            }

            .nav-container {
                padding: 0 var(--space-lg);
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: var(--space-lg);
            }
        }

        @media (max-width: 768px) {
            :root {
                --header-height: 64px;
                --bottom-nav-height: 64px;
            }

            h1 {
                font-size: var(--text-4xl);
            }

            h2 {
                font-size: var(--text-3xl);
            }

            .hero-title {
                font-size: var(--text-5xl);
            }

            .hero-subtitle {
                font-size: var(--text-lg);
            }

            .search-container {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .nav-actions .nav-action-btn:not(:last-child) {
                display: none;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: var(--space-lg);
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .section-header {
                flex-direction: column;
                align-items: stretch;
                text-align: center;
            }

            .category-filters {
                justify-content: flex-start;
                overflow-x: auto;
                padding: var(--space-sm) 0;
            }

            .hero-stats {
                flex-direction: column;
                align-items: center;
                gap: var(--space-xl);
            }

            .stat-item {
                align-items: center;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 100%;
                max-width: 300px;
            }

            .bottom-nav {
                display: flex;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .social-links {
                justify-content: center;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            :root {
                --space-xl: 1.5rem;
                --space-2xl: 2rem;
                --space-3xl: 3rem;
            }

            h1 {
                font-size: var(--text-3xl);
            }

            .hero-title {
                font-size: var(--text-4xl);
            }

            .hero-content {
                padding: var(--space-2xl) var(--space-lg);
            }

            .btn {
                padding: var(--space-md) var(--space-lg);
            }

            .modal-body {
                padding: var(--space-lg);
            }

            .modal {
                max-height: 95vh;
            }

            .nav-container {
                padding: 0 var(--space-md);
            }

            .products-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }
        }

        /* --- 19. DARK MODE STYLES --- */
        .dark-mode .glass {
            background: var(--glass-dark-bg);
            border: 1px solid var(--glass-dark-border);
            color: var(--text-light);
        }

        .dark-mode .search-input {
            background: rgba(30, 30, 40, 0.8);
            color: var(--text-light);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .dark-mode .search-input:focus {
            background: rgba(30, 30, 40, 1);
            border-color: var(--accent);
        }

        .dark-mode .nav-action-btn {
            background: rgba(30, 30, 40, 0.8);
            border-color: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .dark-mode .category-filter {
            background: rgba(30, 30, 40, 0.8);
            border-color: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .dark-mode .product-card {
            background: var(--glass-dark-bg);
        }

        .dark-mode .product-action-btn {
            background: rgba(30, 30, 40, 0.8);
            border-color: rgba(255, 255, 255, 0.1);
            color: var(--text-light);
        }

        .dark-mode .testimonial-card {
            background: var(--glass-dark-bg);
        }

        .dark-mode .bottom-nav {
            background: var(--glass-dark-bg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* --- 20. TOAST NOTIFICATIONS --- */
        .toast-container {
            position: fixed;
            top: var(--header-height);
            right: var(--space-xl);
            z-index: var(--z-toast);
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            max-width: 400px;
        }

        .toast {
            padding: var(--space-md) var(--space-lg);
            border-radius: var(--radius-lg);
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.1);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: var(--space-md);
            animation: slideInRight 0.3s ease-out;
            transform: translateX(0);
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
        }

        .toast.success {
            border-left: 4px solid var(--success);
        }

        .toast.error {
            border-left: 4px solid var(--error);
        }

        .toast.warning {
            border-left: 4px solid var(--warning);
        }

        .toast.info {
            border-left: 4px solid var(--info);
        }

        .toast.hide {
            transform: translateX(100%);
            opacity: 0;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* --- 21. FORM STYLES --- */
        .form-input {
            width: 100%;
            padding: var(--space-md) var(--space-lg);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            transition: all var(--transition-base);
            font-family: 'Poppins', sans-serif;
            background: rgba(255, 255, 255, 0.9);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: var(--space-lg);
        }

        /* --- 22. SCROLLBAR STYLING --- */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: var(--radius-full);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-hover);
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .scrollbar-hide {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        /* --- 23. LOADING SKELETON --- */
        .skeleton {
            background: linear-gradient(90deg,
                    rgba(59, 130, 246, 0.1) 25%,
                    rgba(59, 130, 246, 0.2) 50%,
                    rgba(59, 130, 246, 0.1) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: var(--radius-md);
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* --- 24. EMPTY STATES --- */
        .empty-state {
            text-align: center;
            padding: var(--space-3xl) var(--space-xl);
        }

        .empty-state-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto var(--space-lg);
            color: var(--text-tertiary);
        }

        /* --- 25. PRODUCT FILTERS SIDEBAR --- */
        .filters-sidebar {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            max-width: 350px;
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            transform: translateX(-100%);
            transition: transform var(--transition-base);
            z-index: var(--z-modal);
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-2xl);
            padding: var(--space-xl);
            overflow-y: auto;
        }

        .filters-sidebar.active {
            transform: translateX(0);
        }

        .filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
        }

        .filter-group {
            margin-bottom: var(--space-xl);
        }

        .filter-group h3 {
            font-size: var(--text-lg);
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            transition: background var(--transition-fast);
            cursor: pointer;
        }

        .filter-option:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .filter-option input[type="checkbox"] {
            accent-color: var(--accent);
        }

        .price-range {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .price-inputs {
            display: flex;
            gap: var(--space-md);
            align-items: center;
        }

        .price-input {
            flex: 1;
        }

        /* --- 26. PAGINATION --- */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-sm);
            margin-top: var(--space-2xl);
        }

        .page-item {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .page-item.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .page-item:hover:not(.active) {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
        }

        .page-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* --- 27. BREADCRUMBS --- */
        .breadcrumbs {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-xl);
            flex-wrap: wrap;
        }

        .breadcrumb-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .breadcrumb-item:last-child {
            color: var(--text-primary);
            font-weight: 600;
        }

        .breadcrumb-separator {
            color: var(--text-tertiary);
        }

        /* --- 28. PRODUCT COMPARE --- */
        .compare-table {
            width: 100%;
            border-collapse: collapse;
            border-radius: var(--radius-lg);
            overflow: hidden;
        }

        .compare-table th,
        .compare-table td {
            padding: var(--space-md);
            text-align: left;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .compare-table th {
            background: rgba(59, 130, 246, 0.05);
            font-weight: 600;
        }

        /* --- 29. WISHLIST GRID --- */
        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        /* --- 30. ORDER STATUS INDICATOR --- */
        .order-status {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-processing {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
        }

        .status-shipped {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-delivered {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .status-cancelled {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        /* --- 31. QUICK VIEW MODAL --- */
        .quick-view-modal {
            position: fixed;
            inset: 0;
            background: rgba(10, 25, 47, 0.9);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-xl);
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .quick-view-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .quick-view-content {
            background: var(--glass-bg);
            border-radius: var(--radius-2xl);
            max-width: 1200px;
            width: 100%;
            max-height: 90vh;
            overflow: hidden;
            transform: scale(0.95);
            opacity: 0;
            transition: all var(--transition-base);
        }

        .quick-view-modal.active .quick-view-content {
            transform: scale(1);
            opacity: 1;
        }

        /* --- 32. PRODUCT IMAGE GALLERY --- */
        .product-gallery {
            display: grid;
            grid-template-columns: 80px 1fr;
            gap: var(--space-md);
        }

        .gallery-thumbnails {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .gallery-thumbnail {
            width: 80px;
            height: 80px;
            border-radius: var(--radius-md);
            object-fit: cover;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all var(--transition-fast);
        }

        .gallery-thumbnail.active {
            border-color: var(--accent);
        }

        .gallery-main {
            position: relative;
            border-radius: var(--radius-lg);
            overflow: hidden;
        }

        .gallery-main img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* --- 33. PRODUCT VARIATIONS --- */
        .product-variations {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin: var(--space-lg) 0;
        }

        .variation-option {
            padding: var(--space-sm) var(--space-lg);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            background: white;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .variation-option:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .variation-option.selected {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .variation-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* --- 34. PRODUCT QUANTITY SELECTOR --- */
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
            padding: var(--space-sm);
            width: fit-content;
        }

        .quantity-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .quantity-btn:hover {
            background: var(--accent);
            color: white;
        }

        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            border: none;
            background: transparent;
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-primary);
        }

        .quantity-input:focus {
            outline: none;
        }

        /* --- 35. PRODUCT SIZE GUIDE --- */
        .size-guide {
            margin: var(--space-lg) 0;
        }

        .size-guide-button {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            color: var(--accent);
            font-weight: 500;
            cursor: pointer;
            transition: color var(--transition-fast);
        }

        .size-guide-button:hover {
            color: var(--accent-hover);
        }

        .size-guide-modal {
            position: fixed;
            inset: 0;
            background: rgba(10, 25, 47, 0.9);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-xl);
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .size-guide-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .size-guide-content {
            background: var(--glass-bg);
            border-radius: var(--radius-2xl);
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow: auto;
            transform: scale(0.95);
            opacity: 0;
            transition: all var(--transition-base);
        }

        .size-guide-modal.active .size-guide-content {
            transform: scale(1);
            opacity: 1;
        }

        /* --- 36. PRODUCT SHARE --- */
        .product-share {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin: var(--space-lg) 0;
        }

        .share-button {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-lg);
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .share-button:hover {
            background: var(--accent);
            color: white;
        }

        .share-options {
            display: flex;
            gap: var(--space-sm);
        }

        .share-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .share-option:hover {
           
            box-shadow: var(--shadow-sm);
        }

        /* --- 37. PRODUCT REVIEWS --- */
        .product-reviews {
            margin: var(--space-3xl) 0;
        }

        .review-summary {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: var(--space-xl);
            margin-bottom: var(--space-2xl);
        }

        .average-rating {
            text-align: center;
        }

        .rating-score {
            font-size: var(--text-6xl);
            font-weight: 800;
            color: var(--accent);
            line-height: 1;
        }

        .rating-stars-large {
            color: var(--gold);
            font-size: 1.5rem;
            margin: var(--space-sm) 0;
        }

        .rating-count-text {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .rating-bars {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .rating-bar {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .rating-label {
            width: 60px;
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .rating-progress {
            flex: 1;
            height: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .rating-progress-fill {
            height: 100%;
            background: var(--accent);
            border-radius: var(--radius-full);
        }

        .rating-percentage {
            width: 40px;
            text-align: right;
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .reviews-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-xl);
        }

        .review-item {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .reviewer-details h4 {
            margin-bottom: var(--space-xs);
            font-size: var(--text-lg);
        }

        .review-date {
            color: var(--text-tertiary);
            font-size: var(--text-sm);
        }

        .review-rating {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .review-content {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* --- 38. RELATED PRODUCTS --- */
        .related-products {
            margin: var(--space-3xl) 0;
        }

        .related-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-xl);
        }

        /* --- 39. RECENTLY VIEWED --- */
        .recently-viewed {
            margin: var(--space-3xl) 0;
        }

        .recently-viewed-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-lg);
        }

        /* --- 40. PRODUCT QUESTIONS --- */
        .product-questions {
            margin: var(--space-3xl) 0;
        }

        .questions-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .question-item {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .questioner-info {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .questioner-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .questioner-details h4 {
            margin-bottom: var(--space-xs);
            font-size: var(--text-base);
        }

        .question-date {
            color: var(--text-tertiary);
            font-size: var(--text-sm);
        }

        .question-content {
            color: var(--text-primary);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        .answer {
            padding: var(--space-lg);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
            border-left: 3px solid var(--accent);
        }

        .answer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
        }

        .answerer-info {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .answerer-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .answerer-details h5 {
            font-size: var(--text-sm);
            margin-bottom: 2px;
        }

        .answerer-role {
            font-size: var(--text-xs);
            color: var(--accent);
            font-weight: 600;
        }

        .answer-date {
            color: var(--text-tertiary);
            font-size: var(--text-xs);
        }

        .answer-content {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* --- 41. ASK QUESTION FORM --- */
        .ask-question-form {
            margin-top: var(--space-xl);
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .ask-question-form h3 {
            margin-bottom: var(--space-lg);
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: var(--space-md);
            margin-top: var(--space-lg);
        }

        /* --- 42. WRITE REVIEW FORM --- */
        .write-review-form {
            margin-top: var(--space-xl);
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .write-review-form h3 {
            margin-bottom: var(--space-lg);
        }

        .review-rating-input {
            margin-bottom: var(--space-lg);
        }

        .rating-input-label {
            display: block;
            margin-bottom: var(--space-sm);
            font-weight: 600;
            color: var(--text-primary);
        }

        .star-rating-input {
            display: flex;
            gap: var(--space-xs);
            direction: rtl;
        }

        .star-rating-input input {
            display: none;
        }

        .star-rating-input label {
            cursor: pointer;
            color: var(--text-tertiary);
            font-size: 2rem;
            transition: color var(--transition-fast);
        }

        .star-rating-input input:checked~label,
        .star-rating-input label:hover,
        .star-rating-input label:hover~label {
            color: var(--gold);
        }

        /* --- 43. PRODUCT COMPARISON --- */
        .product-comparison {
            margin: var(--space-3xl) 0;
        }

        .comparison-table-container {
            overflow-x: auto;
        }

        .comparison-table {
            width: 100%;
            min-width: 800px;
            border-collapse: collapse;
        }

        .comparison-table th,
        .comparison-table td {
            padding: var(--space-md);
            text-align: left;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .comparison-table th {
            background: rgba(59, 130, 246, 0.05);
            font-weight: 600;
            white-space: nowrap;
        }

        .comparison-product {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-md);
        }

        .comparison-product-image {
            width: 150px;
            height: 150px;
            object-fit: contain;
        }

        .comparison-product-name {
            font-weight: 600;
            text-align: center;
        }

        .comparison-product-price {
            font-weight: 800;
            color: var(--accent);
            font-size: var(--text-xl);
        }

        .comparison-action {
            text-align: center;
        }

        /* --- 44. BULK DISCOUNT --- */
        .bulk-discount {
            margin: var(--space-xl) 0;
            padding: var(--space-lg);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(30, 64, 175, 0.1));
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .bulk-discount h4 {
            margin-bottom: var(--space-md);
            color: var(--accent);
        }

        .discount-tiers {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .discount-tier {
            display: flex;
            justify-content: space-between;
            padding: var(--space-sm);
            background: rgba(255, 255, 255, 0.5);
            border-radius: var(--radius-md);
        }

        .discount-tier:nth-child(even) {
            background: rgba(255, 255, 255, 0.8);
        }

        .tier-quantity {
            font-weight: 600;
        }

        .tier-discount {
            color: var(--success);
            font-weight: 600;
        }

        /* --- 45. STOCK AVAILABILITY --- */
        .stock-availability {
            margin: var(--space-lg) 0;
        }

        .stock-status {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-weight: 600;
        }

        .stock-status.in-stock {
            color: var(--success);
        }

        .stock-status.low-stock {
            color: var(--warning);
        }

        .stock-status.out-of-stock {
            color: var(--error);
        }

        .stock-progress {
            width: 100%;
            height: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-top: var(--space-xs);
        }

        .stock-progress-fill {
            height: 100%;
            border-radius: var(--radius-full);
            transition: width var(--transition-slow);
        }

        .stock-progress-fill.high {
            background: var(--success);
            width: 80%;
        }

        .stock-progress-fill.medium {
            background: var(--warning);
            width: 40%;
        }

        .stock-progress-fill.low {
            background: var(--error);
            width: 15%;
        }

        .stock-quantity {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-top: var(--space-xs);
        }

        /* --- 46. DELIVERY ESTIMATE --- */
        .delivery-estimate {
            margin: var(--space-lg) 0;
            padding: var(--space-lg);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
        }

        .delivery-estimate h4 {
            margin-bottom: var(--space-sm);
            color: var(--accent);
        }

        .delivery-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .delivery-option {
            display: flex;
            justify-content: space-between;
            padding: var(--space-sm) 0;
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .delivery-option:last-child {
            border-bottom: none;
        }

        .delivery-method {
            font-weight: 600;
        }

        .delivery-time {
            color: var(--text-secondary);
        }

        .delivery-price {
            font-weight: 600;
            color: var(--accent);
        }

        /* --- 47. PRODUCT TAGS --- */
        .product-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin: var(--space-lg) 0;
        }

        .product-tag {
            padding: var(--space-xs) var(--space-sm);
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .product-tag:hover {
            background: var(--accent);
            color: white;
        }

        /* --- 48. PRODUCT ATTRIBUTES --- */
        .product-attributes {
            margin: var(--space-xl) 0;
        }

        .attributes-table {
            width: 100%;
            border-collapse: collapse;
        }

        .attributes-table tr:nth-child(even) {
            background: rgba(59, 130, 246, 0.05);
        }

        .attributes-table td {
            padding: var(--space-md);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .attribute-name {
            font-weight: 600;
            width: 30%;
        }

        .attribute-value {
            color: var(--text-secondary);
        }

        /* --- 49. PRODUCT WARRANTY --- */
        .product-warranty {
            margin: var(--space-xl) 0;
            padding: var(--space-lg);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1));
            border-radius: var(--radius-xl);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .warranty-header {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-md);
        }

        .warranty-icon {
            width: 40px;
            height: 40px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .warranty-details {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .warranty-period {
            font-weight: 600;
            color: var(--success);
        }

        .warranty-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* --- 50. PRODUCT BUNDLES --- */
        .product-bundles {
            margin: var(--space-3xl) 0;
        }

        .bundle-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            margin-bottom: var(--space-xl);
        }

        .bundle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .bundle-title {
            font-size: var(--text-xl);
            font-weight: 700;
            color: var(--accent);
        }

        .bundle-savings {
            background: var(--success);
            color: white;
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .bundle-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
        }

        .bundle-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-md);
            text-align: center;
        }

        .bundle-item-image {
            width: 120px;
            height: 120px;
            object-fit: contain;
        }

        .bundle-item-name {
            font-weight: 600;
        }

        .bundle-item-price {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .bundle-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: var(--space-lg);
            border-top: 2px solid rgba(59, 130, 246, 0.1);
        }

        .bundle-original-price {
            color: var(--text-tertiary);
            text-decoration: line-through;
            font-size: var(--text-xl);
        }

        .bundle-final-price {
            font-size: var(--text-3xl);
            font-weight: 800;
            color: var(--accent);
        }

        .bundle-action {
            text-align: center;
            margin-top: var(--space-lg);
        }

        /* --- 51. CUSTOMER SUPPORT --- */
        .customer-support {
            margin: var(--space-3xl) 0;
        }

        .support-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-xl);
        }

        .support-option {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
            transition: all var(--transition-base);
        }

        .support-option:hover {
           
            box-shadow: var(--shadow-lg);
        }

        .support-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-lg);
            color: white;
        }

        .support-option h3 {
            margin-bottom: var(--space-sm);
        }

        .support-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        /* --- 52. LIVE CHAT --- */
        .live-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: var(--z-fixed);
        }

        .chat-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--accent-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-base);
        }

        .chat-button:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
        }

        .chat-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-2xl);
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: var(--z-modal);
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            padding: var(--space-lg);
            background: var(--accent);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header h3 {
            margin: 0;
            color: white;
        }

        .close-chat {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }

        .chat-body {
            flex: 1;
            padding: var(--space-lg);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .message {
            max-width: 80%;
            padding: var(--space-md);
            border-radius: var(--radius-lg);
        }

        .message.received {
            align-self: flex-start;
            background: rgba(59, 130, 246, 0.1);
        }

        .message.sent {
            align-self: flex-end;
            background: var(--accent);
            color: white;
        }

        .chat-input {
            padding: var(--space-lg);
            border-top: 1px solid rgba(59, 130, 246, 0.1);
            display: flex;
            gap: var(--space-sm);
        }

        .chat-input input {
            flex: 1;
            padding: var(--space-md);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
        }

        .chat-input button {
            padding: var(--space-md) var(--space-lg);
            background: var(--accent);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
        }

        /* --- 53. NEWSLETTER SUBSCRIPTION --- */
        .newsletter {
            padding: var(--space-3xl) var(--space-xl);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            text-align: center;
        }

        .newsletter-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .newsletter h2 {
            color: white;
            margin-bottom: var(--space-lg);
        }

        .newsletter-form {
            display: flex;
            gap: var(--space-sm);
            margin-top: var(--space-xl);
        }

        .newsletter-input {
            flex: 1;
            padding: var(--space-md) var(--space-lg);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-lg);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: var(--text-base);
        }

        .newsletter-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .newsletter-input:focus {
            outline: none;
            border-color: white;
        }

        .newsletter-button {
            padding: var(--space-md) var(--space-xl);
            background: white;
            color: var(--accent);
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .newsletter-button:hover {
           
            box-shadow: var(--shadow-md);
        }

        /* --- 54. TRUST BADGES --- */
        .trust-badges {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--space-2xl);
            margin: var(--space-3xl) 0;
        }

        .trust-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-sm);
            text-align: center;
        }

        .badge-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }

        .badge-text {
            font-weight: 600;
            color: var(--text-primary);
        }

        .badge-description {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            max-width: 200px;
        }

        /* --- 55. SITE MAP --- */
        .sitemap {
            padding: var(--space-3xl) var(--space-xl);
            background: linear-gradient(135deg, #f8fafc, #f1f5f9);
        }

        .dark-mode .sitemap {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        }

        .sitemap-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-2xl);
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .sitemap-column h3 {
            margin-bottom: var(--space-lg);
            color: var(--accent);
        }

        .sitemap-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .sitemap-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color var(--transition-fast);
        }

        .sitemap-links a:hover {
            color: var(--accent);
        }

        /* --- 56. BACK TO TOP BUTTON --- */
        .back-to-top {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
            z-index: var(--z-fixed);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-xl);
        }

        /* --- 57. PASSWORD STRENGTH METER --- */
        .password-strength {
            margin-top: var(--space-sm);
        }

        .strength-meter {
            height: 6px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--space-xs);
        }

        .strength-fill {
            height: 100%;
            border-radius: var(--radius-full);
            transition: width var(--transition-base);
        }

        .strength-fill.weak {
            width: 33%;
            background: var(--error);
        }

        .strength-fill.medium {
            width: 66%;
            background: var(--warning);
        }

        .strength-fill.strong {
            width: 100%;
            background: var(--success);
        }

        .strength-text {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* --- 58. TWO-FACTOR AUTHENTICATION --- */
        .two-factor-auth {
            margin: var(--space-xl) 0;
        }

        .auth-methods {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .auth-method {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-lg);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            background: white;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .auth-method:hover {
            border-color: var(--accent);
           
            box-shadow: var(--shadow-sm);
        }

        .auth-method.active {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.05);
        }

        .auth-method-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }

        .auth-method-info {
            flex: 1;
        }

        .auth-method-info h4 {
            margin-bottom: var(--space-xs);
        }

        .auth-method-info p {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .auth-method-status {
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 600;
        }

        .auth-method-status.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .auth-method-status.inactive {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        /* --- 59. SESSION MANAGEMENT --- */
        .sessions-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .session-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-lg);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            background: white;
        }

        .session-current {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.05);
        }

        .session-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }

        .session-info {
            flex: 1;
        }

        .session-info h4 {
            margin-bottom: var(--space-xs);
        }

        .session-details {
            display: flex;
            gap: var(--space-md);
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .session-actions {
            display: flex;
            gap: var(--space-sm);
        }

        /* --- 60. DATA EXPORT --- */
        .data-export {
            margin: var(--space-xl) 0;
        }

        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-md);
        }

        .export-option {
            padding: var(--space-lg);
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            background: white;
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .export-option:hover {
            border-color: var(--accent);
           
            box-shadow: var(--shadow-sm);
        }

        .export-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-md);
            color: var(--accent);
        }

        .export-option h4 {
            margin-bottom: var(--space-sm);
        }

        .export-option p {
            color: var(--text-secondary);
            font-size: var(--text-sm);
            margin-bottom: var(--space-md);
        }

        /* --- 61. SEARCH SUGGESTIONS --- */
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            margin-top: var(--space-sm);
            max-height: 400px;
            overflow-y: auto;
            z-index: var(--z-dropdown);
        }

        .search-suggestion-item {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            cursor: pointer;
            transition: background var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .search-suggestion-item:last-child {
            border-bottom: none;
        }

        .search-suggestion-item:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .suggestion-product-image {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-md);
            object-fit: cover;
        }

        .suggestion-product-info {
            flex: 1;
        }

        .suggestion-product-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .suggestion-product-price {
            color: var(--accent);
            font-weight: 700;
        }

        /* --- 62. RECENT SEARCHES --- */
        .recent-searches {
            padding: var(--space-md);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .recent-searches-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-md);
        }

        .recent-searches-header h4 {
            margin: 0;
            color: var(--text-secondary);
        }

        .clear-recent-searches {
            background: none;
            border: none;
            color: var(--accent);
            font-size: var(--text-sm);
            cursor: pointer;
        }

        .recent-search-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-sm);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: background var(--transition-fast);
        }

        .recent-search-item:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .recent-search-icon {
            color: var(--text-tertiary);
        }

        /* --- 63. FILTER CHIPS --- */
        .filter-chips {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
            margin-bottom: var(--space-xl);
        }

        .filter-chip {
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 500;
        }

        .filter-chip-remove {
            background: none;
            border: none;
            color: var(--accent);
            cursor: pointer;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .clear-filters {
            padding: var(--space-xs) var(--space-sm);
            background: none;
            border: 1px solid rgba(59, 130, 246, 0.1);
            color: var(--text-secondary);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .clear-filters:hover {
            border-color: var(--error);
            color: var(--error);
        }

        /* --- 64. SORTING DROPDOWN --- */
        .sorting-dropdown {
            position: relative;
        }

        .sorting-button {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .sorting-button:hover {
            border-color: var(--accent);
        }

        .sorting-options {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            min-width: 200px;
            z-index: var(--z-dropdown);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all var(--transition-base);
        }

        .sorting-options.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .sorting-option {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
            cursor: pointer;
            transition: background var(--transition-fast);
        }

        .sorting-option:last-child {
            border-bottom: none;
        }

        .sorting-option:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .sorting-option.active {
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            font-weight: 600;
        }

        /* --- 65. VIEW TOGGLE --- */
        .view-toggle {
            display: flex;
            gap: var(--space-xs);
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            padding: var(--space-xs);
        }

        .view-toggle-button {
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-md);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .view-toggle-button.active {
            background: var(--accent);
            color: white;
        }

        /* --- 66. GRID VIEW --- */
        .grid-view {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-xl);
        }

        /* --- 67. LIST VIEW --- */
        .list-view {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .list-view-item {
            display: grid;
            grid-template-columns: 200px 1fr auto;
            gap: var(--space-xl);
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .list-view-image {
            width: 200px;
            height: 200px;
            border-radius: var(--radius-lg);
            object-fit: cover;
        }

        .list-view-content {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .list-view-actions {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        /* --- 68. QUICK ACTIONS --- */
        .quick-actions {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-xl);
        }

        .quick-action {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .quick-action:hover {
            background: rgba(59, 130, 246, 0.05);
            border-color: var(--accent);
        }

        /* --- 69. BULK ACTIONS --- */
        .bulk-actions {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-lg);
            background: var(--glass-bg);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(59, 130, 246, 0.1);
            margin-bottom: var(--space-xl);
        }

        .bulk-select {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .bulk-select-checkbox {
            accent-color: var(--accent);
        }

        .bulk-action-buttons {
            display: flex;
            gap: var(--space-sm);
        }

        /* --- 70. DRAG AND DROP --- */
        .drag-drop-area {
            border: 2px dashed rgba(59, 130, 246, 0.3);
            border-radius: var(--radius-xl);
            padding: var(--space-2xl);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .drag-drop-area:hover {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.05);
        }

        .drag-drop-area.active {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.1);
        }

        .drag-drop-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto var(--space-lg);
            color: var(--accent);
        }

        /* --- 71. FILE UPLOAD --- */
        .file-upload {
            margin: var(--space-xl) 0;
        }

        .uploaded-files {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
            margin-top: var(--space-lg);
        }

        .uploaded-file {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            background: white;
            border: 1px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
        }

        .file-icon {
            width: 40px;
            height: 40px;
            background: var(--accent-light);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent);
        }

        .file-info {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .file-size {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .file-actions {
            display: flex;
            gap: var(--space-sm);
        }

        /* --- 72. IMAGE EDITOR --- */
        .image-editor {
            position: fixed;
            inset: 0;
            background: rgba(10, 25, 47, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            z-index: var(--z-modal-backdrop);
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .image-editor.active {
            opacity: 1;
            visibility: visible;
        }

        .editor-header {
            padding: var(--space-xl);
            background: var(--glass-dark-bg);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-body {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .editor-canvas {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-xl);
        }

        .editor-canvas img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .editor-tools {
            width: 300px;
            padding: var(--space-xl);
            background: var(--glass-dark-bg);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            overflow-y: auto;
        }

        .editor-tool-group {
            margin-bottom: var(--space-xl);
        }

        .editor-tool-group h3 {
            margin-bottom: var(--space-md);
            color: var(--text-light);
        }

        .tool-slider {
            width: 100%;
            margin: var(--space-md) 0;
        }

        .editor-actions {
            display: flex;
            gap: var(--space-md);
            justify-content: flex-end;
            margin-top: var(--space-xl);
        }

        /* --- 73. VIDEO PLAYER --- */
        .video-player {
            position: relative;
            border-radius: var(--radius-xl);
            overflow: hidden;
            background: black;
        }

        .video-player video {
            width: 100%;
            height: auto;
            display: block;
        }

        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.7));
            padding: var(--space-xl);
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            opacity: 0;
            transition: opacity var(--transition-base);
        }

        .video-player:hover .video-controls {
            opacity: 1;
        }

        .play-button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform var(--transition-base);
        }

        .play-button:hover {
            transform: scale(1.1);
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: var(--radius-full);
            overflow: hidden;
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent);
            border-radius: var(--radius-full);
            width: 0%;
        }

        .time-display {
            color: white;
            font-weight: 600;
            min-width: 100px;
            text-align: center;
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: white;
        }

        .volume-slider {
            width: 100px;
        }

        .fullscreen-button {
            color: white;
            cursor: pointer;
            padding: var(--space-sm);
        }

        /* --- 74. AUDIO PLAYER --- */
        .audio-player {
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            display: flex;
            align-items: center;
            gap: var(--space-xl);
        }

        .audio-cover {
            width: 100px;
            height: 100px;
            border-radius: var(--radius-lg);
            object-fit: cover;
        }

        .audio-info {
            flex: 1;
        }

        .audio-title {
            font-size: var(--text-xl);
            font-weight: 700;
            margin-bottom: var(--space-xs);
        }

        .audio-artist {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
        }

        .audio-progress {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-md);
        }

        .audio-time {
            font-size: var(--text-sm);
            color: var(--text-tertiary);
            min-width: 50px;
        }

        .audio-progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            cursor: pointer;
        }

        .audio-progress-fill {
            height: 100%;
            background: var(--accent);
            border-radius: var(--radius-full);
            width: 0%;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }

        .audio-control-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform var(--transition-base);
        }

        .audio-control-button:hover {
            transform: scale(1.1);
        }

        /* --- 75. 360 PRODUCT VIEW --- */
        .product-360-view {
            position: relative;
            border-radius: var(--radius-xl);
            overflow: hidden;
            background: black;
        }

        .product-360-view img {
            width: 100%;
            height: auto;
            display: block;
        }

        .view-controls {
            position: absolute;
            bottom: var(--space-lg);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: var(--space-sm);
            background: rgba(0, 0, 0, 0.7);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--radius-full);
        }

        .view-control-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .view-control-button:hover {
            background: var(--accent);
            transform: scale(1.1);
        }

        /* --- 76. AUGMENTED REALITY VIEWER --- */
        .ar-viewer {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: var(--z-modal-backdrop);
            display: flex;
            flex-direction: column;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .ar-viewer.active {
            opacity: 1;
            visibility: visible;
        }

        .ar-header {
            padding: var(--space-xl);
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .ar-body {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ar-instructions {
            position: absolute;
            bottom: var(--space-xl);
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            padding: var(--space-xl);
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        }

        /* --- 77. VIRTUAL TRY-ON --- */
        .virtual-try-on {
            margin: var(--space-3xl) 0;
        }

        .try-on-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-2xl);
            min-height: 500px;
        }

        .try-on-viewer {
            position: relative;
            border-radius: var(--radius-xl);
            overflow: hidden;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        .try-on-viewer img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .try-on-products {
            display: flex;
            flex-direction: column;
            gap: var(--space-xl);
        }

        .try-on-product {
            display: flex;
            gap: var(--space-md);
            padding: var(--space-lg);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .try-on-product:hover {
           
            box-shadow: var(--shadow-lg);
        }

        .try-on-product.active {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.05);
        }

        .try-on-product-image {
            width: 80px;
            height: 80px;
            border-radius: var(--radius-md);
            object-fit: cover;
        }

        .try-on-product-info {
            flex: 1;
        }

        .try-on-product-info h4 {
            margin-bottom: var(--space-xs);
        }

        .try-on-product-price {
            color: var(--accent);
            font-weight: 700;
        }

        /* --- 78. SIZE RECOMMENDER --- */
        .size-recommender {
            margin: var(--space-xl) 0;
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .size-recommender h3 {
            margin-bottom: var(--space-lg);
            color: var(--accent);
        }

        .size-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .size-input-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .size-input-group label {
            font-weight: 600;
            color: var(--text-primary);
        }

        .size-input-group select {
            padding: var(--space-md);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            background: white;
        }

        .size-result {
            text-align: center;
            padding: var(--space-xl);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(30, 64, 175, 0.1));
            border-radius: var(--radius-lg);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .size-result h4 {
            margin-bottom: var(--space-md);
            color: var(--accent);
        }

        .recommended-size {
            font-size: var(--text-4xl);
            font-weight: 800;
            color: var(--accent);
            margin: var(--space-md) 0;
        }

        /* --- 79. PERSONALIZED RECOMMENDATIONS --- */
        .personalized-recommendations {
            margin: var(--space-3xl) 0;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-xl);
        }

        .recommendation-card {
            position: relative;
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            overflow: hidden;
            transition: all var(--transition-base);
        }

        .recommendation-card:hover {
           
            box-shadow: var(--shadow-lg);
        }

        .recommendation-badge {
            position: absolute;
            top: var(--space-md);
            left: var(--space-md);
            padding: var(--space-xs) var(--space-sm);
            background: var(--accent);
            color: white;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: 700;
        }

        /* --- 80. PRICE DROP ALERTS --- */
        .price-alert {
            margin: var(--space-lg) 0;
        }

        .alert-form {
            display: flex;
            gap: var(--space-md);
        }

        .alert-input {
            flex: 1;
            padding: var(--space-md) var(--space-lg);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
        }

        .alert-button {
            padding: var(--space-md) var(--space-xl);
            background: var(--accent);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .alert-button:hover {
            background: var(--accent-hover);
           
        }

        /* --- 81. WISHLIST PRICE TRACKING --- */
        .price-tracking {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius-lg);
            margin-top: var(--space-md);
        }

        .price-change {
            font-weight: 600;
            color: var(--success);
        }

        .price-history-button {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--accent);
            font-weight: 500;
            cursor: pointer;
        }

        /* --- 82. PRODUCT AVAILABILITY NOTIFICATION --- */
        .availability-notification {
            margin: var(--space-lg) 0;
            padding: var(--space-lg);
            background: rgba(245, 158, 11, 0.1);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .notification-form {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .notification-form p {
            flex: 1;
            margin: 0;
            color: var(--text-primary);
        }

        .notification-button {
            padding: var(--space-sm) var(--space-lg);
            background: var(--warning);
            color: white;
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .notification-button:hover {
            background: #d97706;
           
        }

        /* --- 83. BUNDLE BUILDER --- */
        .bundle-builder {
            margin: var(--space-3xl) 0;
        }

        .builder-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-2xl);
            min-height: 600px;
        }

        .builder-products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: var(--space-xl);
            align-content: start;
        }

        .builder-product {
            padding: var(--space-lg);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .builder-product:hover {
           
            box-shadow: var(--shadow-md);
        }

        .builder-product.selected {
            border-color: var(--accent);
            background: rgba(59, 130, 246, 0.05);
        }

        .builder-product-image {
            width: 100%;
            height: 150px;
            object-fit: contain;
            margin-bottom: var(--space-md);
        }

        .builder-product-price {
            font-weight: 700;
            color: var(--accent);
            margin-top: var(--space-sm);
        }

        .builder-summary {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            position: sticky;
            top: var(--space-xl);
        }

        .builder-summary h3 {
            margin-bottom: var(--space-xl);
            color: var(--accent);
        }

        .builder-items {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
            margin-bottom: var(--space-xl);
        }

        .builder-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
        }

        .builder-item-image {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-md);
            object-fit: cover;
        }

        .builder-item-info {
            flex: 1;
        }

        .builder-item-info h4 {
            margin-bottom: 2px;
            font-size: var(--text-sm);
        }

        .builder-item-price {
            font-size: var(--text-sm);
            color: var(--accent);
            font-weight: 600;
        }

        .builder-total {
            padding-top: var(--space-xl);
            border-top: 2px solid rgba(59, 130, 246, 0.1);
        }

        .builder-total-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-sm);
        }

        .builder-total-line.total {
            font-size: var(--text-xl);
            font-weight: 800;
            color: var(--accent);
            margin-top: var(--space-md);
        }

        /* --- 84. PRODUCT COMPARISON TOOL --- */
        .comparison-tool {
            margin: var(--space-3xl) 0;
        }

        .tool-container {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: var(--space-2xl);
        }

        .tool-features {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .tool-features h3 {
            margin-bottom: var(--space-xl);
            color: var(--accent);
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .feature-item {
            padding: var(--space-md);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
            cursor: move;
            transition: all var(--transition-fast);
        }

        .feature-item:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .tool-comparison {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .tool-comparison h3 {
            margin-bottom: var(--space-xl);
            color: var(--accent);
        }

        .comparison-slots {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-xl);
        }

        .comparison-slot {
            padding: var(--space-xl);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-lg);
            border: 2px dashed rgba(59, 130, 246, 0.3);
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .comparison-slot.empty {
            color: var(--text-tertiary);
        }

        .comparison-slot.filled {
            border-style: solid;
            border-color: var(--accent);
        }

        .slot-product {
            text-align: center;
        }

        .slot-product-image {
            width: 100px;
            height: 100px;
            object-fit: contain;
            margin-bottom: var(--space-md);
        }

        /* --- 85. PRODUCT CONFIGURATOR --- */
        .product-configurator {
            margin: var(--space-3xl) 0;
        }

        .configurator-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-2xl);
        }

        .configurator-viewer {
            position: relative;
            border-radius: var(--radius-xl);
            overflow: hidden;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            min-height: 500px;
        }

        .configurator-options {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .configurator-options h3 {
            margin-bottom: var(--space-xl);
            color: var(--accent);
        }

        .option-group {
            margin-bottom: var(--space-xl);
        }

        .option-group h4 {
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        .option-list {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
        }

        .option-item {
            padding: var(--space-sm) var(--space-md);
            border: 2px solid rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-lg);
            background: white;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .option-item:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .option-item.selected {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .configurator-summary {
            margin-top: var(--space-xl);
            padding-top: var(--space-xl);
            border-top: 2px solid rgba(59, 130, 246, 0.1);
        }

        .configurator-summary h4 {
            margin-bottom: var(--space-md);
            color: var(--accent);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--space-sm);
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            font-size: var(--text-xl);
            font-weight: 800;
            color: var(--accent);
            margin-top: var(--space-md);
            padding-top: var(--space-md);
            border-top: 2px solid rgba(59, 130, 246, 0.1);
        }

        /* --- 86. INTERACTIVE TUTORIAL --- */
        .interactive-tutorial {
            position: fixed;
            inset: 0;
            background: rgba(10, 25, 47, 0.95);
            backdrop-filter: blur(20px);
            z-index: var(--z-lottie);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-base);
        }

        .interactive-tutorial.active {
            opacity: 1;
            visibility: visible;
        }

        .tutorial-content {
            max-width: 800px;
            width: 90%;
            background: var(--glass-bg);
            border-radius: var(--radius-2xl);
            padding: var(--space-3xl);
            text-align: center;
        }

        .tutorial-steps {
            margin: var(--space-2xl) 0;
        }

        .tutorial-step {
            display: none;
        }

        .tutorial-step.active {
            display: block;
        }

        .step-indicators {
            display: flex;
            justify-content: center;
            gap: var(--space-sm);
            margin: var(--space-xl) 0;
        }

        .step-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.2);
            cursor: pointer;
        }

        .step-indicator.active {
            background: var(--accent);
        }

        .tutorial-actions {
            display: flex;
            justify-content: space-between;
            margin-top: var(--space-2xl);
        }

        /* --- 87. PROGRESS TRACKING --- */
        .progress-tracking {
            margin: var(--space-3xl) 0;
        }

        .tracking-timeline {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .timeline-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-50%);
        }

        .timeline-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .timeline-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-md);
            text-align: center;
        }

        .step-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 4px solid rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: var(--text-secondary);
            position: relative;
        }

        .timeline-step.active .step-indicator {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        .timeline-step.completed .step-indicator {
            background: var(--success);
            color: white;
            border-color: var(--success);
        }

        .step-label {
            font-weight: 600;
            color: var(--text-primary);
        }

        .step-date {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        /* --- 88. ACHIEVEMENTS SYSTEM --- */
        .achievements-system {
            margin: var(--space-3xl) 0;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-xl);
        }

        .achievement-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
            transition: all var(--transition-base);
        }

        .achievement-card.locked {
            opacity: 0.6;
        }

        .achievement-card.unlocked {
            border-color: var(--gold);
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.1), rgba(212, 175, 55, 0.05));
        }

        .achievement-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto var(--space-lg);
            color: var(--gold);
            position: relative;
        }

        .achievement-icon.locked {
            color: var(--text-tertiary);
        }

        .achievement-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 30px;
            height: 30px;
            background: var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: var(--text-sm);
            font-weight: 700;
        }

        .achievement-card h3 {
            margin-bottom: var(--space-sm);
        }

        .achievement-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        .achievement-progress {
            width: 100%;
            height: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--space-sm);
        }

        .achievement-progress-fill {
            height: 100%;
            background: var(--gold);
            border-radius: var(--radius-full);
        }

        .achievement-progress-text {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        /* --- 89. LOYALTY POINTS --- */
        .loyalty-points {
            margin: var(--space-3xl) 0;
        }

        .points-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-2xl);
        }

        .points-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
        }

        .points-amount {
            font-size: var(--text-4xl);
            font-weight: 800;
            color: var(--gold);
            margin-bottom: var(--space-sm);
        }

        .points-label {
            font-weight: 600;
            color: var(--text-primary);
        }

        .points-history {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .history-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-md);
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-md);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-info h4 {
            margin-bottom: var(--space-xs);
        }

        .history-date {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .history-points {
            font-weight: 700;
            color: var(--gold);
        }

        .history-points.positive {
            color: var(--success);
        }

        .history-points.negative {
            color: var(--error);
        }

        /* --- 90. REFERRAL PROGRAM --- */
        .referral-program {
            margin: var(--space-3xl) 0;
        }

        .referral-card {
            padding: var(--space-3xl);
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: var(--radius-2xl);
            color: white;
            text-align: center;
        }

        .referral-card h2 {
            color: white;
            margin-bottom: var(--space-lg);
        }

        .referral-code {
            display: inline-flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-lg);
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-lg);
            margin: var(--space-xl) 0;
        }

        .code-text {
            font-family: monospace;
            font-size: var(--text-2xl);
            font-weight: 700;
            letter-spacing: 2px;
        }

        .copy-button {
            background: white;
            color: var(--accent);
            border: none;
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
        }

        .copy-button:hover {
           
            box-shadow: var(--shadow-md);
        }

        .referral-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-xl);
            margin-top: var(--space-2xl);
        }

        .referral-stat {
            text-align: center;
        }

        .stat-number {
            font-size: var(--text-4xl);
            font-weight: 800;
            color: var(--gold);
            margin-bottom: var(--space-sm);
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
        }

        /* --- 91. COMMUNITY FORUM --- */
        .community-forum {
            margin: var(--space-3xl) 0;
        }

        .forum-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2xl);
        }

        .forum-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .forum-category {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            transition: all var(--transition-base);
        }

        .forum-category:hover {
           
            box-shadow: var(--shadow-lg);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .category-icon {
            width: 60px;
            height: 60px;
            background: var(--accent-gradient);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .category-info {
            flex: 1;
        }

        .category-info h3 {
            margin-bottom: var(--space-xs);
        }

        .category-stats {
            display: flex;
            gap: var(--space-md);
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .category-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* --- 92. KNOWLEDGE BASE --- */
        .knowledge-base {
            margin: var(--space-3xl) 0;
        }

        .search-kb {
            max-width: 600px;
            margin: 0 auto var(--space-3xl);
        }

        .kb-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .kb-category {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .kb-category h3 {
            margin-bottom: var(--space-lg);
            color: var(--accent);
        }

        .kb-articles {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .kb-article {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md);
            border-radius: var(--radius-md);
            transition: background var(--transition-fast);
            color: var(--text-primary);
            text-decoration: none;
        }

        .kb-article:hover {
            background: rgba(59, 130, 246, 0.05);
        }

        .article-icon {
            color: var(--accent);
        }

        /* --- 93. LIVE SUPPORT --- */
        .live-support {
            margin: var(--space-3xl) 0;
        }

        .support-agents {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-xl);
        }

        .support-agent {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
            transition: all var(--transition-base);
        }

        .support-agent:hover {
           
            box-shadow: var(--shadow-lg);
        }

        .agent-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto var(--space-lg);
            border: 4px solid var(--accent);
        }

        .agent-info h3 {
            margin-bottom: var(--space-xs);
        }

        .agent-role {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: var(--space-md);
        }

        .agent-expertise {
            color: var(--text-secondary);
            font-size: var(--text-sm);
            margin-bottom: var(--space-lg);
        }

        .agent-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .status-online {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-offline {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        /* --- 94. SERVICE STATUS --- */
        .service-status {
            margin: var(--space-3xl) 0;
        }

        .status-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-2xl);
        }

        .status-service {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
        }

        .service-status-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 auto var(--space-md);
        }

        .status-operational {
            background: var(--success);
        }

        .status-degraded {
            background: var(--warning);
        }

        .status-outage {
            background: var(--error);
        }

        .status-maintenance {
            background: var(--info);
        }

        .status-incidents {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .incident-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .incident-item {
            padding: var(--space-lg);
            border-left: 4px solid var(--warning);
            background: rgba(245, 158, 11, 0.05);
            border-radius: var(--radius-md);
        }

        .incident-item.resolved {
            border-left-color: var(--success);
            background: rgba(16, 185, 129, 0.05);
        }

        .incident-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .incident-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .incident-date {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .incident-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* --- 95. SYSTEM METRICS --- */
        .system-metrics {
            margin: var(--space-3xl) 0;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .metric-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .metric-info h3 {
            margin-bottom: var(--space-xs);
        }

        .metric-value {
            font-size: var(--text-3xl);
            font-weight: 800;
            color: var(--accent);
        }

        .metric-change {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .change-positive {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .change-negative {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        .metric-chart {
            height: 100px;
            margin-top: var(--space-lg);
        }

        /* --- 96. API DOCUMENTATION --- */
        .api-documentation {
            margin: var(--space-3xl) 0;
        }

        .api-endpoints {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .api-endpoint {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .endpoint-method {
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-weight: 700;
            color: white;
            min-width: 60px;
            text-align: center;
        }

        .method-get {
            background: var(--success);
        }

        .method-post {
            background: var(--accent);
        }

        .method-put {
            background: var(--warning);
        }

        .method-delete {
            background: var(--error);
        }

        .endpoint-path {
            font-family: monospace;
            font-size: var(--text-lg);
            color: var(--text-primary);
            font-weight: 600;
        }

        .endpoint-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        .endpoint-parameters {
            margin-bottom: var(--space-lg);
        }

        .endpoint-parameters h4 {
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        .parameter-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .parameter-item {
            display: grid;
            grid-template-columns: 150px 100px 1fr;
            gap: var(--space-md);
            padding: var(--space-sm);
            background: rgba(59, 130, 246, 0.05);
            border-radius: var(--radius-md);
        }

        .parameter-name {
            font-family: monospace;
            font-weight: 600;
        }

        .parameter-type {
            color: var(--accent);
            font-weight: 600;
        }

        .parameter-description {
            color: var(--text-secondary);
        }

        /* --- 97. WEBHOOKS --- */
        .webhooks {
            margin: var(--space-3xl) 0;
        }

        .webhooks-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-lg);
        }

        .webhook-item {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .webhook-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .webhook-info h3 {
            margin-bottom: var(--space-xs);
        }

        .webhook-url {
            font-family: monospace;
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .webhook-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .webhook-status.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .webhook-status.inactive {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        .webhook-events {
            margin-bottom: var(--space-lg);
        }

        .webhook-events h4 {
            margin-bottom: var(--space-md);
            color: var(--text-primary);
        }

        .event-list {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-sm);
        }

        .event-tag {
            padding: var(--space-xs) var(--space-sm);
            background: rgba(59, 130, 246, 0.1);
            color: var(--accent);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 500;
        }

        /* --- 98. RATE LIMITING --- */
        .rate-limiting {
            margin: var(--space-3xl) 0;
        }

        .rate-limits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .rate-limit-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .limit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-lg);
        }

        .limit-info h3 {
            margin-bottom: var(--space-xs);
        }

        .limit-usage {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .limit-progress {
            height: 8px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin-bottom: var(--space-sm);
        }

        .limit-progress-fill {
            height: 100%;
            background: var(--accent);
            border-radius: var(--radius-full);
        }

        .limit-stats {
            display: flex;
            justify-content: space-between;
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        /* --- 99. AUDIT LOG --- */
        .audit-log {
            margin: var(--space-3xl) 0;
        }

        .log-filters {
            display: flex;
            gap: var(--space-md);
            margin-bottom: var(--space-2xl);
        }

        .log-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-sm);
        }

        .log-item {
            display: grid;
            grid-template-columns: 200px 200px 1fr 150px;
            gap: var(--space-xl);
            padding: var(--space-lg);
            background: var(--glass-bg);
            border-radius: var(--radius-lg);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .log-timestamp {
            color: var(--text-secondary);
            font-size: var(--text-sm);
        }

        .log-user {
            font-weight: 600;
        }

        .log-action {
            font-family: monospace;
            color: var(--accent);
        }

        .log-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: var(--space-xs) var(--space-sm);
            border-radius: var(--radius-full);
            font-size: var(--text-sm);
            font-weight: 600;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-failure {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }

        /* --- 100. COMPLIANCE --- */
        .compliance {
            margin: var(--space-3xl) 0;
        }

        .compliance-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-xl);
        }

        .compliance-card {
            padding: var(--space-xl);
            background: var(--glass-bg);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(59, 130, 246, 0.1);
            text-align: center;
        }

        .compliance-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto var(--space-lg);
            color: var(--accent);
        }

        .compliance-card h3 {
            margin-bottom: var(--space-md);
        }

        .compliance-description {
            color: var(--text-secondary);
            margin-bottom: var(--space-lg);
            line-height: 1.6;
        }

        .compliance-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            border-radius: var(--radius-lg);
            font-weight: 600;
        }

        .compliance-valid {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .compliance-expired {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        /* --- END OF COMPREHENSIVE STYLES --- */
    </style>
</head>

<body>
    <!-- LIQUID BACKGROUND -->
    <div class="liquid-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <!-- LOTTIE ANIMATIONS -->
    <div id="lottie-login" class="lottie-container">
        <lottie-player src="https://assets9.lottiefiles.com/packages/lf20_6wutsrox.json" background="transparent"
            speed="1" class="lottie-player" autoplay></lottie-player>
        <div class="lottie-message">
            <h2 class="lottie-title">Welcome to RealStore!</h2>
            <p class="lottie-subtitle">Your premium shopping experience begins now. Discover exclusive products curated
                just for you.</p>
            <div class="lottie-actions">
                <button class="btn btn-primary" onclick="app.hideLottieAnimation('login')">
                    Start Exploring
                </button>
            </div>
        </div>
    </div>

    <div id="lottie-order" class="lottie-container">
        <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_ikoctbyh.json" background="transparent"
            speed="1" class="lottie-player" autoplay></lottie-player>
        <div class="lottie-message">
            <h2 class="lottie-title">Order Confirmed!</h2>
            <p class="lottie-subtitle">Thank you for your purchase! Your order is being processed and you'll receive
                tracking details shortly.</p>
            <div class="lottie-actions">
                <button class="btn btn-primary" onclick="app.hideLottieAnimation('order'); app.router('orders');">
                    View Order
                </button>
                <button class="btn btn-outline" onclick="app.hideLottieAnimation('order'); app.router('home');">
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <!-- TOAST CONTAINER -->
    <div class="toast-container" id="toast-container"></div>

    <!-- NAVBAR -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <!-- Mobile Menu Button -->
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i data-lucide="menu"></i>
            </button>

            <!-- Logo -->
            <a href="#" class="logo" onclick="app.router('home')">
                <div class="logo-icon">
                    <i data-lucide="gem"></i>
                </div>
                RealStore
            </a>

            <!-- Search -->
            <div class="search-container">
                <i data-lucide="search" class="search-icon"></i>
                <input type="text" class="search-input" placeholder="Search premium products..."
                    oninput="app.handleSearch(this.value)" onfocus="app.showSearchSuggestions()">
                <div class="search-suggestions" id="search-suggestions" style="display: none;"></div>
            </div>

            <!-- Navigation Actions -->
            <div class="nav-actions">
                <!-- Theme Toggle -->
                <button class="nav-action-btn" onclick="app.toggleTheme()" id="theme-toggle">
                    <i data-lucide="sun" id="theme-icon"></i>
                </button>

                <!-- Wishlist -->
                <button class="nav-action-btn" onclick="app.router('wishlist')">
                    <i data-lucide="heart"></i>
                    <span class="action-badge" id="wishlist-badge">0</span>
                </button>

                <!-- Cart -->
                <button class="nav-action-btn" onclick="app.toggleCart()">
                    <i data-lucide="shopping-bag"></i>
                    <span class="action-badge" id="cart-badge">0</span>
                </button>

                <!-- Notifications -->
                <button class="nav-action-btn" onclick="app.toggleNotifications()">
                    <i data-lucide="bell"></i>
                    <span class="action-badge" id="notifications-badge">3</span>
                </button>

                <!-- User Menu -->
                <div class="user-menu">
                    <div class="user-avatar" onclick="app.toggleUserMenu()" id="user-avatar">
                        <i data-lucide="user"></i>
                    </div>
                    <div class="user-dropdown" id="user-dropdown">
                        <div class="user-dropdown-header">
                            <div style="font-weight: 700;" id="user-name">Guest</div>
                            <div class="text-muted" id="user-email">Sign in to your account</div>
                        </div>
                        <a href="#" class="user-dropdown-item" onclick="app.router('account')">
                            <i data-lucide="user"></i>
                            <span>My Account</span>
                        </a>
                        <a href="#" class="user-dropdown-item" onclick="app.router('orders')">
                            <i data-lucide="package"></i>
                            <span>My Orders</span>
                        </a>
                        <a href="#" class="user-dropdown-item" onclick="app.router('wishlist')">
                            <i data-lucide="heart"></i>
                            <span>My Wishlist</span>
                        </a>
                        <a href="#" class="user-dropdown-item" onclick="app.router('settings')">
                            <i data-lucide="settings"></i>
                            <span>Settings</span>
                        </a>
                        <div class="user-dropdown-divider"></div>
                        <a href="#" class="user-dropdown-item" onclick="app.openAuthModal()" id="login-dropdown-item">
                            <i data-lucide="log-in"></i>
                            <span>Sign In</span>
                        </a>
                        <a href="#" class="user-dropdown-item" onclick="app.logout()" id="logout-dropdown-item"
                            style="display: none;">
                            <i data-lucide="log-out"></i>
                            <span>Sign Out</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- MOBILE BOTTOM NAVIGATION -->
    <div class="bottom-nav" id="bottom-nav">
        <a href="#" class="bottom-nav-item active" onclick="app.router('home')">
            <i data-lucide="home" class="bottom-nav-icon"></i>
            <span class="bottom-nav-label">Home</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="app.router('categories')">
            <i data-lucide="grid" class="bottom-nav-icon"></i>
            <span class="bottom-nav-label">Categories</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="app.router('wishlist')">
            <i data-lucide="heart" class="bottom-nav-icon"></i>
            <span class="bottom-nav-label">Wishlist</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="app.router('cart')">
            <i data-lucide="shopping-bag" class="bottom-nav-icon"></i>
            <span class="bottom-nav-label">Cart</span>
        </a>
        <a href="#" class="bottom-nav-item" onclick="app.router('account')">
            <i data-lucide="user" class="bottom-nav-icon"></i>
            <span class="bottom-nav-label">Account</span>
        </a>
    </div>

    <!-- MAIN CONTENT -->
    <main id="main-content">
        <!-- Home View -->
        <div id="view-home" class="view">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-bg"></div>
                <div class="hero-content">
                    <h1 class="hero-title">Experience Luxury <br>Redefined</h1>
                    <p class="hero-subtitle">
                        Discover our curated collection of premium products, where craftsmanship meets innovation.
                        Each piece tells a story of excellence and sophistication.
                    </p>

                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number">10K+</div>
                            <div class="stat-label">Premium Products</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">98%</div>
                            <div class="stat-label">Customer Satisfaction</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">24/7</div>
                            <div class="stat-label">Premium Support</div>
                        </div>
                    </div>

                    <div class="cta-buttons">
                        <button class="btn btn-primary btn-lg" onclick="app.scrollToProducts()">
                            <i data-lucide="shopping-bag"></i>
                            Shop Collection
                        </button>
                        <button class="btn btn-secondary btn-lg" onclick="app.openAuthModal()">
                            <i data-lucide="sparkles"></i>
                            Become a Member
                        </button>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features" id="features">
                <div class="section-title">
                    <h2>Why Choose RealStore</h2>
                    <p class="text-lead">Premium experience at every step of your journey</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card glass">
                        <div class="feature-icon">
                            <i data-lucide="shield"></i>
                        </div>
                        <h3>Authentic Products</h3>
                        <p>Every item is verified for authenticity and comes with a certificate of authenticity.</p>
                    </div>
                    <div class="feature-card glass">
                        <div class="feature-icon">
                            <i data-lucide="truck"></i>
                        </div>
                        <h3>Free Global Shipping</h3>
                        <p>Enjoy free express shipping worldwide with premium packaging and insurance.</p>
                    </div>
                    <div class="feature-card glass">
                        <div class="feature-icon">
                            <i data-lucide="clock"></i>
                        </div>
                        <h3>24/7 Support</h3>
                        <p>Our premium support team is available round the clock to assist you.</p>
                    </div>
                    <div class="feature-card glass">
                        <div class="feature-icon">
                            <i data-lucide="refresh-cw"></i>
                        </div>
                        <h3>Easy Returns</h3>
                        <p>30-day return policy with free return shipping for all premium members.</p>
                    </div>
                </div>
            </section>

            <!-- Products Section -->
            <section class="products-section" id="products">
                <div class="section-header">
                    <div>
                        <h2>Featured Collection</h2>
                        <p class="text-muted">Handpicked luxury items for the discerning customer</p>
                    </div>
                    <div class="category-filters">
                        <button class="category-filter active" onclick="app.filterProducts('all')">All</button>
                        <button class="category-filter" onclick="app.filterProducts('electronics')">Electronics</button>
                        <button class="category-filter" onclick="app.filterProducts('fashion')">Fashion</button>
                        <button class="category-filter" onclick="app.filterProducts('home')">Home</button>
                        <button class="category-filter" onclick="app.filterProducts('jewelry')">Jewelry</button>
                        <button class="category-filter" onclick="app.filterProducts('watches')">Watches</button>
                    </div>
                </div>
                <div class="products-grid" id="products-grid">
                    <!-- Products will be dynamically loaded here -->
                </div>
            </section>

            <!-- Testimonials Section -->
            <section class="testimonials">
                <div class="section-title">
                    <h2>What Our Customers Say</h2>
                    <p class="text-lead">Join thousands of satisfied premium customers</p>
                </div>
                <div class="testimonial-slider">
                    <div class="swiper" id="testimonial-swiper">
                        <div class="swiper-wrapper">
                            <!-- Testimonials will be dynamically loaded -->
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="cta-section">
                <div class="cta-bg-pattern"></div>
                <div class="cta-content">
                    <h2 class="cta-title">Ready to Elevate Your Lifestyle?</h2>
                    <p class="cta-subtitle">Join our premium membership for exclusive benefits, early access to new
                        collections, and personalized shopping experiences.</p>
                    <div class="cta-buttons">
                        <button class="btn btn-primary btn-lg" onclick="app.openAuthModal()">
                            <i data-lucide="crown"></i>
                            Join Premium
                        </button>
                        <button class="btn btn-secondary btn-lg" onclick="app.router('products')">
                            <i data-lucide="eye"></i>
                            Browse All Products
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <!-- Other Views (Wishlist, Account, Orders, etc.) -->
        <!-- These will be loaded dynamically based on routing -->
        <div id="view-wishlist" class="view" style="display: none;"></div>
        <div id="view-account" class="view" style="display: none;"></div>
        <div id="view-orders" class="view" style="display: none;"></div>
        <div id="view-settings" class="view" style="display: none;"></div>
        <div id="view-admin" class="view" style="display: none;"></div>
        <div id="view-product-detail" class="view" style="display: none;"></div>
        <div id="view-categories" class="view" style="display: none;"></div>
        <div id="view-cart" class="view" style="display: none;"></div>
    </main>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h3>RealStore</h3>
                <p style="color: rgba(255,255,255,0.7); margin-bottom: var(--space-lg);">
                    The premier destination for luxury shopping. Experience excellence in every detail.
                </p>
                <div class="social-links">
                    <a href="#" class="social-link">
                        <i data-lucide="instagram"></i>
                    </a>
                    <a href="#" class="social-link">
                        <i data-lucide="twitter"></i>
                    </a>
                    <a href="#" class="social-link">
                        <i data-lucide="facebook"></i>
                    </a>
                    <a href="#" class="social-link">
                        <i data-lucide="linkedin"></i>
                    </a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Shop</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="app.router('products')">All Products</a></li>
                    <li><a href="#" onclick="app.filterProducts('electronics')">Electronics</a></li>
                    <li><a href="#" onclick="app.filterProducts('fashion')">Fashion</a></li>
                    <li><a href="#" onclick="app.filterProducts('home')">Home & Living</a></li>
                    <li><a href="#" onclick="app.filterProducts('jewelry')">Jewelry</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Company</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="app.showAboutModal()">About Us</a></li>
                    <li><a href="#" onclick="app.showContactModal()">Contact</a></li>
                    <li><a href="#" onclick="app.showCareersModal()">Careers</a></li>
                    <li><a href="#" onclick="app.showPressModal()">Press</a></li>
                    <li><a href="#" onclick="app.showSustainabilityModal()">Sustainability</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Support</h3>
                <ul class="footer-links">
                    <li><a href="#" onclick="app.showHelpModal()">Help Center</a></li>
                    <li><a href="#" onclick="app.showShippingModal()">Shipping Info</a></li>
                    <li><a href="#" onclick="app.showReturnsModal()">Returns & Exchanges</a></li>
                    <li><a href="#" onclick="app.showPrivacyModal()">Privacy Policy</a></li>
                    <li><a href="#" onclick="app.showTermsModal()">Terms of Service</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p style="color: rgba(255,255,255,0.5);"> 2024 RealStore. All rights reserved.</p>
            <div style="display: flex; gap: var(--space-lg);">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg" alt="Mastercard"
                    style="height: 24px; opacity: 0.7;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Visa.svg" alt="Visa"
                    style="height: 24px; opacity: 0.7;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg" alt="PayPal"
                    style="height: 24px; opacity: 0.7;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg"
                    alt="Stripe" style="height: 24px; opacity: 0.7;">
            </div>
        </div>
    </footer>

    <!-- MODALS -->
    <!-- Auth Modal -->
    <div class="modal-overlay" id="auth-modal">
        <div class="modal">
            <div class="modal-header">
                <h2>Welcome to RealStore</h2>
                <button class="btn btn-icon btn-ghost" onclick="app.closeAuthModal()">
                    <i data-lucide="x"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Auth content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cart-sidebar">
        <!-- Cart content will be loaded here -->
    </div>

    <!-- Product Detail Modal -->
    <div class="modal-overlay" id="product-modal">
        <div class="modal">
            <!-- Product detail content will be loaded here -->
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="modal-overlay" id="checkout-modal">
        <div class="modal">
            <!-- Checkout content will be loaded here -->
        </div>
    </div>

    <!-- Filters Sidebar -->
    <div class="filters-sidebar" id="filters-sidebar">
        <!-- Filters content will be loaded here -->
    </div>

    <!-- Quick View Modal -->
    <div class="quick-view-modal" id="quick-view-modal">
        <div class="quick-view-content">
            <!-- Quick view content will be loaded here -->
        </div>
    </div>

    <!-- Size Guide Modal -->
    <div class="size-guide-modal" id="size-guide-modal">
        <div class="size-guide-content">
            <!-- Size guide content will be loaded here -->
        </div>
    </div>

    <!-- Image Editor -->
    <div class="image-editor" id="image-editor">
        <!-- Image editor content will be loaded here -->
    </div>

    <!-- Augmented Reality Viewer -->
    <div class="ar-viewer" id="ar-viewer">
        <!-- AR viewer content will be loaded here -->
    </div>

    <!-- Chat Window -->
    <div class="chat-window" id="chat-window">
        <!-- Chat content will be loaded here -->
    </div>

    <!-- Interactive Tutorial -->
    <div class="interactive-tutorial" id="interactive-tutorial">
        <!-- Tutorial content will be loaded here -->
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        <i data-lucide="arrow-up"></i>
    </div>

    <!-- Live Chat Button -->
    <div class="live-chat">
        <div class="chat-button" id="chat-button" onclick="app.toggleChat()">
            <i data-lucide="message-circle"></i>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';
        import {
            getAuth,
            signInWithPopup,
            GoogleAuthProvider,
            signInWithEmailAndPassword,
            createUserWithEmailAndPassword,
            onAuthStateChanged,
            signOut,
            signInAnonymously,
            updateProfile,
            sendPasswordResetEmail,
            sendEmailVerification
        } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';

        import {
            getFirestore,
            collection,
            doc,
            getDoc,
            getDocs,
            setDoc,
            updateDoc,
            addDoc,
            deleteDoc,
            onSnapshot,
            query,
            where,
            orderBy,
            limit,
            startAfter,
            serverTimestamp,
            increment,
            arrayUnion,
            arrayRemove
        } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';

        import {
            getStorage,
            ref,
            uploadBytes,
            getDownloadURL,
            deleteObject
        } from 'https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js';

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCsp-xvRknmdBFuS39V0IsljDIq3bOLGOA",
            authDomain: "portfolio-app-b908d.firebaseapp.com",
            projectId: "portfolio-app-b908d",
            storageBucket: "portfolio-app-b908d.firebasestorage.app",
            messagingSenderId: "1036721930214",
            appId: "1:1036721930214:web:3cd553be7488a6a7ec2027",
            measurementId: "G-MWFJTKSHY7"
        };

        // Initialize Firebase
        const firebaseApp = initializeApp(firebaseConfig);
        const auth = getAuth(firebaseApp);
        const db = getFirestore(firebaseApp);
        const storage = getStorage(firebaseApp);
        const appId = 'realstore-premium';

        // Swiper Initialization
        let testimonialSwiper = null;

        // Main Application
        window.app = {
            // State Management
            user: null,
            products: [],
            filteredProducts: [],
            cart: [],
            wishlist: [],
            orders: [],
            notifications: [],
            currentProduct: null,
            currentView: 'home',
            currentCategory: 'all',
            isLoading: false,
            isDarkMode: false,
            searchQuery: '',

            // Pagination
            currentPage: 1,
            productsPerPage: 12,
            hasMoreProducts: true,

            // Refs
            unsubscribeListeners: [],

            // Initialize Application
            async init() {
                console.log(' Initializing RealStore Premium...');

                // Initialize UI
                this.initUI();

                // Check saved theme
                this.isDarkMode = localStorage.getItem('darkMode') === 'true';
                this.updateTheme();

                // Set up auth state listener
                this.setupAuthListener();

                // Initialize Swiper
                this.initSwiper();

                // Load initial data
                await this.loadInitialData();

                // Set up scroll listener for infinite scroll
                this.setupScrollListener();

                // Set up navbar scroll effect
                this.setupNavbarScroll();

                // Initialize Lottie animations
                this.initLottie();

                // Set up back to top button
                this.setupBackToTop();

                console.log(' RealStore initialized successfully');
            },

            // Initialize UI Components
            initUI() {
                // Create icons
                lucide.createIcons();

                // Set current year in footer
                document.querySelector('.footer-bottom p').textContent =
                    ` ${new Date().getFullYear()} RealStore. All rights reserved.`;
            },

            // Initialize Swiper
            initSwiper() {
                testimonialSwiper = new Swiper('#testimonial-swiper', {
                    slidesPerView: 1,
                    spaceBetween: 30,
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    breakpoints: {
                        768: {
                            slidesPerView: 2,
                        },
                        1024: {
                            slidesPerView: 3,
                        }
                    },
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    loop: true,
                });
            },

            // Initialize Lottie
            initLottie() {
                // Preload Lottie animations
                const loginPlayer = document.querySelector('#lottie-login lottie-player');
                const orderPlayer = document.querySelector('#lottie-order lottie-player');

                if (loginPlayer) {
                    loginPlayer.load('https://assets9.lottiefiles.com/packages/lf20_6wutsrox.json');
                }
                if (orderPlayer) {
                    orderPlayer.load('https://assets7.lottiefiles.com/packages/lf20_ikoctbyh.json');
                }
            },

            // Setup Auth Listener
            setupAuthListener() {
                onAuthStateChanged(auth, async (user) => {
                    this.user = user;
                    await this.updateAuthUI();

                    if (user && !user.isAnonymous) {
                        // User is signed in
                        this.setupUserData(user);
                        this.setupRealtimeListeners();

                        // Show welcome animation for new login
                        if (!sessionStorage.getItem('welcomeShown')) {
                            setTimeout(() => {
                                this.showLottieAnimation('login');
                                sessionStorage.setItem('welcomeShown', 'true');
                            }, 1000);
                        }
                    } else {
                        // User is signed out
                        this.cleanupRealtimeListeners();
                        sessionStorage.removeItem('welcomeShown');
                    }
                });
            },

            // Update Auth UI
            async updateAuthUI() {
                const userAvatar = document.getElementById('user-avatar');
                const userName = document.getElementById('user-name');
                const userEmail = document.getElementById('user-email');
                const loginItem = document.getElementById('login-dropdown-item');
                const logoutItem = document.getElementById('logout-dropdown-item');

                if (this.user && !this.user.isAnonymous) {
                    // User is logged in
                    const displayName = this.user.displayName || 'User';
                    const email = this.user.email;

                    // Update avatar
                    if (this.user.photoURL) {
                        userAvatar.innerHTML = `<img src="${this.user.photoURL}" alt="${displayName}" style="width:100%;height:100%;border-radius:50%;">`;
                    } else {
                        userAvatar.textContent = displayName.charAt(0).toUpperCase();
                    }

                    // Update user info
                    userName.textContent = displayName;
                    userEmail.textContent = email;

                    // Update dropdown items
                    loginItem.style.display = 'none';
                    logoutItem.style.display = 'flex';

                } else {
                    // User is not logged in
                    userAvatar.innerHTML = '<i data-lucide="user"></i>';
                    userName.textContent = 'Guest';
                    userEmail.textContent = 'Sign in to your account';

                    // Update dropdown items
                    loginItem.style.display = 'flex';
                    logoutItem.style.display = 'none';
                }

                // Refresh icons
                lucide.createIcons();
            },

            // Setup User Data
            async setupUserData(user) {
                try {
                    const userRef = doc(db, 'artifacts', appId, 'users', user.uid);
                    const userSnap = await getDoc(userRef);

                    if (!userSnap.exists()) {
                        // Create new user document
                        await setDoc(userRef, {
                            uid: user.uid,
                            email: user.email,
                            displayName: user.displayName || 'User',
                            photoURL: user.photoURL || '',
                            createdAt: serverTimestamp(),
                            lastLogin: serverTimestamp(),
                            role: 'customer',
                            preferences: {
                                theme: 'auto',
                                notifications: true,
                                newsletter: true
                            },
                            stats: {
                                orders: 0,
                                totalSpent: 0,
                                wishlistItems: 0
                            }
                        });

                        // Create cart document
                        await setDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'cart', 'current'), {
                            items: [],
                            updatedAt: serverTimestamp(),
                            total: 0
                        });

                        // Create wishlist document
                        await setDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'wishlist', 'current'), {
                            items: [],
                            updatedAt: serverTimestamp()
                        });

                        console.log(' New user profile created');
                    } else {
                        // Update last login
                        await updateDoc(userRef, {
                            lastLogin: serverTimestamp()
                        });
                    }
                } catch (error) {
                    console.error('Error setting up user data:', error);
                    this.showToast('Error setting up account', 'error');
                }
            },

            // Setup Realtime Listeners
            setupRealtimeListeners() {
                if (!this.user) return;

                const uid = this.user.uid;

                // Products listener
                const productsUnsubscribe = onSnapshot(
                    query(
                        collection(db, 'artifacts', appId, 'public', 'data', 'products'),
                        orderBy('createdAt', 'desc'),
                        limit(this.productsPerPage)
                    ),
                    (snapshot) => {
                        this.products = snapshot.docs.map(doc => ({
                            id: doc.id,
                            ...doc.data()
                        }));
                        this.filteredProducts = [...this.products];
                        this.renderProducts();
                        this.updateProductCount();
                    }
                );
                this.unsubscribeListeners.push(productsUnsubscribe);

                // Cart listener
                const cartUnsubscribe = onSnapshot(
                    doc(db, 'artifacts', appId, 'users', uid, 'cart', 'current'),
                    (doc) => {
                        if (doc.exists()) {
                            this.cart = doc.data().items || [];
                            this.updateCartUI();
                        }
                    }
                );
                this.unsubscribeListeners.push(cartUnsubscribe);

                // Wishlist listener
                const wishlistUnsubscribe = onSnapshot(
                    doc(db, 'artifacts', appId, 'users', uid, 'wishlist', 'current'),
                    (doc) => {
                        if (doc.exists()) {
                            this.wishlist = doc.data().items || [];
                            this.updateWishlistUI();
                        }
                    }
                );
                this.unsubscribeListeners.push(wishlistUnsubscribe);

                // Orders listener
                const ordersUnsubscribe = onSnapshot(
                    query(
                        collection(db, 'artifacts', appId, 'users', uid, 'orders'),
                        orderBy('createdAt', 'desc')
                    ),
                    (snapshot) => {
                        this.orders = snapshot.docs.map(doc => ({
                            id: doc.id,
                            ...doc.data()
                        }));
                        this.updateOrdersCount();
                    }
                );
                this.unsubscribeListeners.push(ordersUnsubscribe);

                // Notifications listener
                const notificationsUnsubscribe = onSnapshot(
                    query(
                        collection(db, 'artifacts', appId, 'users', uid, 'notifications'),
                        orderBy('createdAt', 'desc'),
                        limit(10)
                    ),
                    (snapshot) => {
                        this.notifications = snapshot.docs.map(doc => ({
                            id: doc.id,
                            ...doc.data()
                        }));
                        this.updateNotificationsUI();
                    }
                );
                this.unsubscribeListeners.push(notificationsUnsubscribe);
            },

            // Cleanup Realtime Listeners
            cleanupRealtimeListeners() {
                this.unsubscribeListeners.forEach(unsubscribe => unsubscribe());
                this.unsubscribeListeners = [];
            },

            // Load Initial Data
            async loadInitialData() {
                this.isLoading = true;

                try {
                    // Load products
                    const productsQuery = query(
                        collection(db, 'artifacts', appId, 'public', 'data', 'products'),
                        orderBy('createdAt', 'desc'),
                        limit(this.productsPerPage)
                    );

                    const productsSnapshot = await getDocs(productsQuery);
                    this.products = productsSnapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
                    this.filteredProducts = [...this.products];

                    // Load testimonials
                    await this.loadTestimonials();

                    // Render products
                    this.renderProducts();
                    this.updateProductCount();

                } catch (error) {
                    console.error('Error loading initial data:', error);
                    this.showToast('Error loading products', 'error');
                } finally {
                    this.isLoading = false;
                }
            },

            // Load Testimonials
            async loadTestimonials() {
                const testimonials = [
                    {
                        content: "RealStore has completely transformed my shopping experience. The quality and service are unparalleled.",
                        author: "Sarah Johnson",
                        role: "Premium Member",
                        avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?w=400&auto=format&fit=crop&q=60"
                    },
                    {
                        content: "The attention to detail in every product is remarkable. It's worth every penny for the premium experience.",
                        author: "Michael Chen",
                        role: "Luxury Collector",
                        avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&auto=format&fit=crop&q=60"
                    },
                    {
                        content: "Exceptional customer service and stunning products. RealStore sets the standard for luxury e-commerce.",
                        author: "Emma Williams",
                        role: "Interior Designer",
                        avatar: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=400&auto=format&fit=crop&q=60"
                    },
                    {
                        content: "As a frequent shopper, I appreciate the curated collections and personalized recommendations.",
                        author: "David Miller",
                        role: "Business Executive",
                        avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=400&auto=format&fit=crop&q=60"
                    }
                ];

                const swiperWrapper = document.querySelector('.swiper-wrapper');
                if (swiperWrapper) {
                    swiperWrapper.innerHTML = testimonials.map(testimonial => `
                        <div class="swiper-slide">
                            <div class="testimonial-card glass">
                                <div class="testimonial-content">
                                    ${testimonial.content}
                                </div>
                                <div class="testimonial-author">
                                    <img src="${testimonial.avatar}" alt="${testimonial.author}" class="author-avatar">
                                    <div class="author-info">
                                        <h4>${testimonial.author}</h4>
                                        <p>${testimonial.role}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');

                    if (testimonialSwiper) {
                        testimonialSwiper.update();
                    }
                }
            },

            // Setup Scroll Listener for Infinite Scroll
            setupScrollListener() {
                window.addEventListener('scroll', () => {
                    const { scrollTop, scrollHeight, clientHeight } = document.documentElement;

                    if (scrollTop + clientHeight >= scrollHeight - 500 &&
                        this.hasMoreProducts &&
                        !this.isLoading &&
                        this.currentView === 'home') {
                        this.loadMoreProducts();
                    }
                });
            },

            // Setup Navbar Scroll Effect
            setupNavbarScroll() {
                const navbar = document.getElementById('navbar');
                const bottomNav = document.getElementById('bottom-nav');
                let lastScroll = 0;

                window.addEventListener('scroll', () => {
                    const currentScroll = window.pageYOffset;

                    // Add/remove scrolled class
                    if (currentScroll > 50) {
                        navbar.classList.add('scrolled');
                        if (bottomNav) bottomNav.style.bottom = '0';
                    } else {
                        navbar.classList.remove('scrolled');
                        if (bottomNav) bottomNav.style.bottom = '0';
                    }

                    // Hide/show navbar on scroll
                    if (currentScroll > lastScroll && currentScroll > 100) {
                        navbar.style.transform = 'translateY(-100%)';
                        if (bottomNav) bottomNav.style.bottom = '-100%';
                    } else {
                        navbar.style.transform = 'translateY(0)';
                        if (bottomNav) bottomNav.style.bottom = '0';
                    }

                    lastScroll = currentScroll;
                });
            },

            // Setup Back to Top Button
            setupBackToTop() {
                const backToTopBtn = document.getElementById('back-to-top');

                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        backToTopBtn.classList.add('visible');
                    } else {
                        backToTopBtn.classList.remove('visible');
                    }
                });
            },

            // Load More Products (Infinite Scroll)
            async loadMoreProducts() {
                if (this.isLoading || !this.hasMoreProducts) return;

                this.isLoading = true;
                this.currentPage++;

                try {
                    const productsQuery = query(
                        collection(db, 'artifacts', appId, 'public', 'data', 'products'),
                        orderBy('createdAt', 'desc'),
                        limit(this.productsPerPage * this.currentPage)
                    );

                    const productsSnapshot = await getDocs(productsQuery);
                    const newProducts = productsSnapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));

                    // Check if we have more products
                    this.hasMoreProducts = newProducts.length === this.productsPerPage * this.currentPage;

                    // Update products
                    this.products = newProducts;
                    this.filteredProducts = this.filterProductsByCategory(this.currentCategory);
                    this.renderProducts(true);

                } catch (error) {
                    console.error('Error loading more products:', error);
                    this.showToast('Error loading more products', 'error');
                } finally {
                    this.isLoading = false;
                }
            },

            // Render Products
            renderProducts(append = false) {
                const productsGrid = document.getElementById('products-grid');
                if (!productsGrid) return;

                const productsToShow = this.filteredProducts.slice(0, this.currentPage * this.productsPerPage);

                if (!append) {
                    productsGrid.innerHTML = '';
                }

                if (productsToShow.length === 0) {
                    productsGrid.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: var(--space-3xl);">
                            <div class="glass" style="padding: var(--space-2xl);">
                                <i data-lucide="package" style="width: 64px; height: 64px; color: var(--text-tertiary); margin-bottom: var(--space-lg);"></i>
                                <h3>No Products Found</h3>
                                <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                                    ${this.searchQuery ? 'Try a different search term' : 'Check back soon for new arrivals'}
                                </p>
                                ${this.searchQuery ?
                            `<button class="btn btn-primary" onclick="app.clearSearch()">Clear Search</button>` :
                            `<button class="btn btn-primary" onclick="app.filterProducts('all')">View All Products</button>`
                        }
                            </div>
                        </div>
                    `;
                    lucide.createIcons();
                    return;
                }

                const productsHTML = productsToShow.map(product => {
                    const isInWishlist = this.wishlist.includes(product.id);
                    const rating = product.rating || 4.5;
                    const reviewCount = product.reviewCount || Math.floor(Math.random() * 100) + 20;

                    return `
                        <div class="product-card slide-in">
                            <div class="product-badges">
                                ${product.isNew ? '<span class="badge badge-new">New</span>' : ''}
                                ${product.onSale ? '<span class="badge badge-sale">Sale</span>' : ''}
                                ${product.isLimited ? '<span class="badge badge-limited">Limited</span>' : ''}
                                ${product.isPremium ? '<span class="badge badge-premium">Premium</span>' : ''}
                            </div>
                            
                            <div class="product-image" onclick="app.showProductDetail('${product.id}')">
                                <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&q=80'}" alt="${product.name}" loading="lazy">
                            </div>
                            
                            <div class="product-actions">
                                <button class="product-action-btn ${isInWishlist ? 'active' : ''}" 
                                        onclick="app.toggleWishlist('${product.id}')">
                                    <i data-lucide="heart"></i>
                                </button>
                                <button class="product-action-btn" onclick="app.addToCart('${product.id}')">
                                    <i data-lucide="shopping-bag"></i>
                                </button>
                                <button class="product-action-btn" onclick="app.quickView('${product.id}')">
                                    <i data-lucide="eye"></i>
                                </button>
                            </div>
                            
                            <div class="product-content">
                                <div class="product-category">${product.category || 'Uncategorized'}</div>
                                <h3 class="product-title">${product.name || 'Premium Product'}</h3>
                                <p class="product-description">${product.description || 'Premium quality product with exceptional craftsmanship.'}</p>
                                
                                <div class="product-rating">
                                    <div class="rating-stars">
                                        ${this.generateStarRating(rating)}
                                    </div>
                                    <span class="rating-count">(${reviewCount})</span>
                                </div>
                                
                                <div class="product-footer">
                                    <div class="product-price">
                                        $${product.price?.toFixed(2) || '0.00'}
                                        ${product.originalPrice ?
                            `<span class="product-price old">$${product.originalPrice.toFixed(2)}</span>` :
                            ''
                        }
                                    </div>
                                    <button class="btn btn-primary btn-sm" onclick="app.addToCart('${product.id}')">
                                        <i data-lucide="plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');

                if (append) {
                    productsGrid.insertAdjacentHTML('beforeend', productsHTML);
                } else {
                    productsGrid.innerHTML = productsHTML;
                }

                lucide.createIcons();

                // Show loading indicator if more products are loading
                if (this.isLoading) {
                    productsGrid.insertAdjacentHTML('beforeend', `
                        <div style="grid-column: 1 / -1; text-align: center; padding: var(--space-2xl);">
                            <div class="loading"></div>
                            <p style="margin-top: var(--space-md); color: var(--text-secondary);">Loading more products...</p>
                        </div>
                    `);
                }
            },

            // Generate Star Rating HTML
            generateStarRating(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 >= 0.5;
                const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);

                let starsHTML = '';

                // Full stars
                for (let i = 0; i < fullStars; i++) {
                    starsHTML += '<i data-lucide="star" style="width: 16px; height: 16px; fill: var(--gold); color: var(--gold);"></i>';
                }

                // Half star
                if (hasHalfStar) {
                    starsHTML += '<i data-lucide="star-half" style="width: 16px; height: 16px; fill: var(--gold); color: var(--gold);"></i>';
                }

                // Empty stars
                for (let i = 0; i < emptyStars; i++) {
                    starsHTML += '<i data-lucide="star" style="width: 16px; height: 16px; color: var(--gold);"></i>';
                }

                return starsHTML;
            },

            // Filter Products by Category
            filterProducts(category) {
                this.currentCategory = category;
                this.currentPage = 1;

                // Update active filter button
                document.querySelectorAll('.category-filter').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent.toLowerCase() === category.toLowerCase() ||
                        (category === 'all' && btn.textContent === 'All')) {
                        btn.classList.add('active');
                    }
                });

                // Filter products
                this.filteredProducts = this.filterProductsByCategory(category);
                this.renderProducts();

                // Scroll to products section
                if (category !== 'all') {
                    const productsSection = document.getElementById('products');
                    if (productsSection) {
                        productsSection.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            },

            // Filter Products by Category Helper
            filterProductsByCategory(category) {
                if (category === 'all') {
                    return this.products;
                }

                return this.products.filter(product =>
                    product.category?.toLowerCase() === category.toLowerCase()
                );
            },

            // Handle Search
            handleSearch(query) {
                this.searchQuery = query.toLowerCase();

                if (!query) {
                    this.filteredProducts = this.filterProductsByCategory(this.currentCategory);
                    this.renderProducts();
                    return;
                }

                this.filteredProducts = this.products.filter(product =>
                    product.name?.toLowerCase().includes(query) ||
                    product.category?.toLowerCase().includes(query) ||
                    product.description?.toLowerCase().includes(query) ||
                    product.tags?.some(tag => tag.toLowerCase().includes(query))
                );

                this.renderProducts();
            },

            // Clear Search
            clearSearch() {
                const searchInput = document.querySelector('.search-input');
                if (searchInput) {
                    searchInput.value = '';
                }
                this.searchQuery = '';
                this.filteredProducts = this.filterProductsByCategory(this.currentCategory);
                this.renderProducts();
            },

            // Show Search Suggestions
            showSearchSuggestions() {
                const suggestionsContainer = document.getElementById('search-suggestions');
                if (!suggestionsContainer || this.products.length === 0) return;

                // Get popular search terms
                const popularTerms = [...new Set(this.products.flatMap(p =>
                    [p.category, ...(p.tags || []), p.name.split(' ')[0]]
                ).filter(Boolean))].slice(0, 5);

                suggestionsContainer.innerHTML = popularTerms.map(term => `
                    <div class="search-suggestion-item" onclick="app.handleSearch('${term}'); document.getElementById('search-suggestions').style.display='none';">
                        <i data-lucide="search"></i>
                        <span>${term}</span>
                    </div>
                `).join('');

                suggestionsContainer.style.display = 'block';
                lucide.createIcons();
            },

            // Toggle Theme
            toggleTheme() {
                this.isDarkMode = !this.isDarkMode;
                localStorage.setItem('darkMode', this.isDarkMode);
                this.updateTheme();
            },

            // Update Theme
            updateTheme() {
                const themeIcon = document.getElementById('theme-icon');
                const body = document.body;

                if (this.isDarkMode) {
                    body.classList.add('dark-mode');
                    themeIcon.setAttribute('data-lucide', 'moon');
                } else {
                    body.classList.remove('dark-mode');
                    themeIcon.setAttribute('data-lucide', 'sun');
                }

                lucide.createIcons();
            },

            // Toggle User Menu
            toggleUserMenu() {
                const dropdown = document.getElementById('user-dropdown');
                dropdown.classList.toggle('show');
            },

            // Toggle Cart
            toggleCart() {
                const sidebar = document.getElementById('cart-sidebar');
                sidebar.classList.toggle('active');

                if (sidebar.classList.contains('active')) {
                    this.renderCart();
                }
            },

            // Toggle Notifications
            toggleNotifications() {
                this.showToast('Notifications feature coming soon!', 'info');
            },

            // Toggle Chat
            toggleChat() {
                const chatWindow = document.getElementById('chat-window');
                if (chatWindow) {
                    chatWindow.classList.toggle('active');
                }
            },

            // Show Product Detail
            showProductDetail(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product) return;

                this.currentProduct = product;
                this.router('product-detail');
            },

            // Quick View Product
            quickView(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product) return;

                this.currentProduct = product;
                this.showQuickViewModal();
            },

            // Add to Cart
            async addToCart(productId, quantity = 1) {
                if (!this.user) {
                    this.openAuthModal();
                    return;
                }

                const product = this.products.find(p => p.id === productId);
                if (!product) return;

                try {
                    const uid = this.user.uid;
                    const cartRef = doc(db, 'artifacts', appId, 'users', uid, 'cart', 'current');
                    const cartSnap = await getDoc(cartRef);

                    let cartItems = [];
                    if (cartSnap.exists()) {
                        cartItems = cartSnap.data().items || [];
                    }

                    // Check if product already in cart
                    const existingIndex = cartItems.findIndex(item => item.id === productId);

                    if (existingIndex > -1) {
                        // Update quantity
                        cartItems[existingIndex].quantity += quantity;
                    } else {
                        // Add new item
                        cartItems.push({
                            id: productId,
                            name: product.name,
                            price: product.price,
                            image: product.image,
                            quantity: quantity,
                            addedAt: new Date().toISOString()
                        });
                    }

                    // Calculate total
                    const total = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                    // Update cart
                    await setDoc(cartRef, {
                        items: cartItems,
                        total: total,
                        updatedAt: serverTimestamp()
                    });

                    this.showToast(`${product.name} added to cart`, 'success');

                } catch (error) {
                    console.error('Error adding to cart:', error);
                    this.showToast('Error adding to cart', 'error');
                }
            },

            // Toggle Wishlist
            async toggleWishlist(productId) {
                if (!this.user) {
                    this.openAuthModal();
                    return;
                }

                try {
                    const uid = this.user.uid;
                    const wishlistRef = doc(db, 'artifacts', appId, 'users', uid, 'wishlist', 'current');
                    const wishlistSnap = await getDoc(wishlistRef);

                    let wishlistItems = [];
                    if (wishlistSnap.exists()) {
                        wishlistItems = wishlistSnap.data().items || [];
                    }

                    const productIndex = wishlistItems.indexOf(productId);
                    let message;

                    if (productIndex > -1) {
                        // Remove from wishlist
                        wishlistItems.splice(productIndex, 1);
                        message = 'Removed from wishlist';
                    } else {
                        // Add to wishlist
                        wishlistItems.push(productId);
                        message = 'Added to wishlist';
                    }

                    // Update wishlist
                    await setDoc(wishlistRef, {
                        items: wishlistItems,
                        updatedAt: serverTimestamp()
                    });

                    this.showToast(message, 'info');

                } catch (error) {
                    console.error('Error updating wishlist:', error);
                    this.showToast('Error updating wishlist', 'error');
                }
            },

            // Update Cart UI
            updateCartUI() {
                const cartBadge = document.getElementById('cart-badge');
                const cartCount = this.cart.reduce((total, item) => total + item.quantity, 0);

                if (cartBadge) {
                    cartBadge.textContent = cartCount;
                    cartBadge.style.display = cartCount > 0 ? 'flex' : 'none';
                }
            },

            // Update Wishlist UI
            updateWishlistUI() {
                const wishlistBadge = document.getElementById('wishlist-badge');
                const wishlistCount = this.wishlist.length;

                if (wishlistBadge) {
                    wishlistBadge.textContent = wishlistCount;
                    wishlistBadge.style.display = wishlistCount > 0 ? 'flex' : 'none';
                }
            },

            // Update Notifications UI
            updateNotificationsUI() {
                const notificationsBadge = document.getElementById('notifications-badge');
                const unreadCount = this.notifications.filter(n => !n.read).length;

                if (notificationsBadge) {
                    notificationsBadge.textContent = unreadCount;
                    notificationsBadge.style.display = unreadCount > 0 ? 'flex' : 'none';
                }
            },

            // Update Product Count
            updateProductCount() {
                // Update any product count indicators if needed
            },

            // Update Orders Count
            updateOrdersCount() {
                // Update orders count in UI if needed
            },

            // Render Cart
            renderCart() {
                const sidebar = document.getElementById('cart-sidebar');
                if (!sidebar) return;

                if (this.cart.length === 0) {
                    sidebar.innerHTML = `
                        <div class="modal-header">
                            <h2>Your Cart</h2>
                            <button class="btn btn-icon btn-ghost" onclick="app.toggleCart()">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                        <div class="modal-body" style="display: flex; align-items: center; justify-content: center; flex-direction: column;">
                            <i data-lucide="shopping-bag" style="width: 80px; height: 80px; color: var(--text-tertiary); margin-bottom: var(--space-lg);"></i>
                            <h3 style="margin-bottom: var(--space-md);">Your cart is empty</h3>
                            <p style="color: var(--text-secondary); text-align: center; margin-bottom: var(--space-xl);">
                                Add some premium products to get started
                            </p>
                            <button class="btn btn-primary" onclick="app.router('home'); app.toggleCart();">
                                Start Shopping
                            </button>
                        </div>
                    `;
                    lucide.createIcons();
                    return;
                }

                const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                sidebar.innerHTML = `
                    <div class="modal-header">
                        <h2>Your Cart (${this.cart.length})</h2>
                        <button class="btn btn-icon btn-ghost" onclick="app.toggleCart()">
                            <i data-lucide="x"></i>
                        </button>
                    </div>
                    <div class="modal-body" style="padding: 0;">
                        <div style="padding: var(--space-lg); border-bottom: 1px solid rgba(59, 130, 246, 0.1);">
                            ${this.cart.map(item => `
                                <div class="cart-item" style="display: flex; gap: var(--space-md); padding: var(--space-md) 0; border-bottom: 1px solid rgba(59, 130, 246, 0.05);">
                                    <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: var(--radius-md);">
                                    <div style="flex: 1;">
                                        <h4 style="margin-bottom: var(--space-xs);">${item.name}</h4>
                                        <p style="color: var(--text-secondary); margin-bottom: var(--space-sm);">$${item.price.toFixed(2)}</p>
                                        <div style="display: flex; align-items: center; gap: var(--space-md);">
                                            <div style="display: flex; align-items: center; gap: var(--space-xs);">
                                                <button class="btn btn-icon btn-sm" onclick="app.updateCartQuantity('${item.id}', ${item.quantity - 1})">
                                                    <i data-lucide="minus"></i>
                                                </button>
                                                <span style="font-weight: 600; min-width: 30px; text-align: center;">${item.quantity}</span>
                                                <button class="btn btn-icon btn-sm" onclick="app.updateCartQuantity('${item.id}', ${item.quantity + 1})">
                                                    <i data-lucide="plus"></i>
                                                </button>
                                            </div>
                                            <button class="btn btn-icon btn-sm" onclick="app.removeFromCart('${item.id}')" style="margin-left: auto;">
                                                <i data-lucide="trash-2"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div style="padding: var(--space-lg);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-md);">
                                <span>Subtotal</span>
                                <span>$${total.toFixed(2)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-md);">
                                <span>Shipping</span>
                                <span>${total > 100 ? 'FREE' : '$10.00'}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem; padding-top: var(--space-md); border-top: 2px solid rgba(59, 130, 246, 0.1); margin-bottom: var(--space-xl);">
                                <span>Total</span>
                                <span>$${(total > 100 ? total : total + 10).toFixed(2)}</span>
                            </div>
                            <button class="btn btn-primary" style="width: 100%;" onclick="app.checkout()">
                                <i data-lucide="lock"></i>
                                Proceed to Checkout
                            </button>
                            <button class="btn btn-outline" style="width: 100%; margin-top: var(--space-md);" onclick="app.router('home'); app.toggleCart();">
                                Continue Shopping
                            </button>
                        </div>
                    </div>
                `;

                lucide.createIcons();
            },

            // Update Cart Quantity
            async updateCartQuantity(productId, newQuantity) {
                if (newQuantity < 1) {
                    await this.removeFromCart(productId);
                    return;
                }

                try {
                    const uid = this.user.uid;
                    const cartRef = doc(db, 'artifacts', appId, 'users', uid, 'cart', 'current');
                    const cartSnap = await getDoc(cartRef);

                    if (cartSnap.exists()) {
                        const cartItems = cartSnap.data().items || [];
                        const updatedItems = cartItems.map(item =>
                            item.id === productId ? { ...item, quantity: newQuantity } : item
                        );

                        const total = updatedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                        await setDoc(cartRef, {
                            items: updatedItems,
                            total: total,
                            updatedAt: serverTimestamp()
                        });
                    }
                } catch (error) {
                    console.error('Error updating cart quantity:', error);
                    this.showToast('Error updating quantity', 'error');
                }
            },

            // Remove from Cart
            async removeFromCart(productId) {
                try {
                    const uid = this.user.uid;
                    const cartRef = doc(db, 'artifacts', appId, 'users', uid, 'cart', 'current');
                    const cartSnap = await getDoc(cartRef);

                    if (cartSnap.exists()) {
                        const cartItems = cartSnap.data().items || [];
                        const updatedItems = cartItems.filter(item => item.id !== productId);

                        const total = updatedItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                        await setDoc(cartRef, {
                            items: updatedItems,
                            total: total,
                            updatedAt: serverTimestamp()
                        });

                        this.showToast('Item removed from cart', 'info');
                    }
                } catch (error) {
                    console.error('Error removing from cart:', error);
                    this.showToast('Error removing item', 'error');
                }
            },

            // Checkout
            async checkout() {
                if (!this.user) {
                    this.openAuthModal();
                    return;
                }

                if (this.cart.length === 0) {
                    this.showToast('Your cart is empty', 'warning');
                    return;
                }

                this.openCheckoutModal();
            },

            // Open Checkout Modal
            openCheckoutModal() {
                const modal = document.getElementById('checkout-modal');
                if (!modal) return;

                const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const shipping = total > 100 ? 0 : 10;
                const finalTotal = total + shipping;

                modal.innerHTML = `
                    <div class="modal">
                        <div class="modal-header">
                            <h2>Checkout</h2>
                            <button class="btn btn-icon btn-ghost" onclick="app.closeModal('checkout-modal')">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="display: grid; grid-template-columns: 1fr; gap: var(--space-xl);">
                                <!-- Order Summary -->
                                <div>
                                    <h3 style="margin-bottom: var(--space-lg);">Order Summary</h3>
                                    <div style="background: rgba(59, 130, 246, 0.05); padding: var(--space-lg); border-radius: var(--radius-lg);">
                                        ${this.cart.map(item => `
                                            <div style="display: flex; justify-content: space-between; align-items: center; padding: var(--space-sm) 0; border-bottom: 1px solid rgba(59, 130, 246, 0.1);">
                                                <div style="display: flex; align-items: center; gap: var(--space-md);">
                                                    <img src="${item.image}" alt="${item.name}" style="width: 50px; height: 50px; object-fit: cover; border-radius: var(--radius-sm);">
                                                    <div>
                                                        <div style="font-weight: 600;">${item.name}</div>
                                                        <div style="color: var(--text-secondary); font-size: 0.9rem;">Qty: ${item.quantity}</div>
                                                    </div>
                                                </div>
                                                <div style="font-weight: 600;">$${(item.price * item.quantity).toFixed(2)}</div>
                                            </div>
                                        `).join('')}
                                        <div style="padding-top: var(--space-md);">
                                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-xs);">
                                                <span>Subtotal</span>
                                                <span>$${total.toFixed(2)}</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--space-xs);">
                                                <span>Shipping</span>
                                                <span>${shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`}</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem; padding-top: var(--space-md); border-top: 2px solid rgba(59, 130, 246, 0.1);">
                                                <span>Total</span>
                                                <span>$${finalTotal.toFixed(2)}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Shipping Information -->
                                <div>
                                    <h3 style="margin-bottom: var(--space-lg);">Shipping Information</h3>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
                                        <input type="text" placeholder="First Name" class="form-input" id="checkout-first-name">
                                        <input type="text" placeholder="Last Name" class="form-input" id="checkout-last-name">
                                        <input type="email" placeholder="Email" class="form-input" id="checkout-email" value="${this.user?.email || ''}">
                                        <input type="tel" placeholder="Phone" class="form-input" id="checkout-phone">
                                        <input type="text" placeholder="Address" class="form-input" id="checkout-address" style="grid-column: span 2;">
                                        <input type="text" placeholder="City" class="form-input" id="checkout-city">
                                        <input type="text" placeholder="ZIP Code" class="form-input" id="checkout-zip">
                                        <select class="form-input" id="checkout-country" style="grid-column: span 2;">
                                            <option value="">Select Country</option>
                                            <option value="US">United States</option>
                                            <option value="CA">Canada</option>
                                            <option value="UK">United Kingdom</option>
                                            <option value="AU">Australia</option>
                                            <option value="DE">Germany</option>
                                            <option value="FR">France</option>
                                            <option value="JP">Japan</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <!-- Payment Method -->
                                <div>
                                    <h3 style="margin-bottom: var(--space-lg);">Payment Method</h3>
                                    <div style="display: grid; gap: var(--space-md);">
                                        <label style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md); border: 2px solid rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg); cursor: pointer;">
                                            <input type="radio" name="payment" value="card" checked style="accent-color: var(--accent);">
                                            <div>
                                                <div style="font-weight: 600;">Credit/Debit Card</div>
                                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Pay with your card</div>
                                            </div>
                                        </label>
                                        <label style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-md); border: 2px solid rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg); cursor: pointer;">
                                            <input type="radio" name="payment" value="paypal" style="accent-color: var(--accent);">
                                            <div>
                                                <div style="font-weight: 600;">PayPal</div>
                                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Pay with your PayPal account</div>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="margin-top: var(--space-2xl); padding-top: var(--space-lg); border-top: 1px solid rgba(59, 130, 246, 0.1);">
                                <button class="btn btn-primary" style="width: 100%;" onclick="app.placeOrder()" id="place-order-btn">
                                    <i data-lucide="lock"></i>
                                    Place Order
                                </button>
                                <p style="text-align: center; color: var(--text-secondary); font-size: 0.9rem; margin-top: var(--space-md);">
                                    Your payment is secure and encrypted. By placing your order, you agree to our Terms of Service.
                                </p>
                            </div>
                        </div>
                    </div>
                `;

                modal.classList.add('active');
                lucide.createIcons();
            },

            // Place Order
            async placeOrder() {
                if (!this.user || this.cart.length === 0) return;

                const placeOrderBtn = document.getElementById('place-order-btn');
                if (!placeOrderBtn) return;

                // Disable button and show loading
                placeOrderBtn.disabled = true;
                placeOrderBtn.innerHTML = '<div class="loading"></div> Processing...';

                try {
                    // Validate form
                    const firstName = document.getElementById('checkout-first-name').value;
                    const lastName = document.getElementById('checkout-last-name').value;
                    const email = document.getElementById('checkout-email').value;
                    const phone = document.getElementById('checkout-phone').value;
                    const address = document.getElementById('checkout-address').value;
                    const city = document.getElementById('checkout-city').value;
                    const zip = document.getElementById('checkout-zip').value;
                    const country = document.getElementById('checkout-country').value;

                    if (!firstName || !lastName || !email || !address || !city || !zip || !country) {
                        throw new Error('Please fill in all required fields');
                    }

                    // Validate email
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(email)) {
                        throw new Error('Please enter a valid email address');
                    }

                    const uid = this.user.uid;
                    const orderRef = collection(db, 'artifacts', appId, 'users', uid, 'orders');

                    // Calculate totals
                    const subtotal = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                    const shipping = subtotal > 100 ? 0 : 10;
                    const tax = subtotal * 0.08; // 8% tax
                    const total = subtotal + shipping + tax;

                    // Create order
                    const order = {
                        items: this.cart,
                        subtotal: subtotal,
                        shipping: shipping,
                        tax: tax,
                        total: total,
                        shippingInfo: {
                            firstName,
                            lastName,
                            email,
                            phone,
                            address,
                            city,
                            zip,
                            country
                        },
                        paymentMethod: document.querySelector('input[name="payment"]:checked').value,
                        status: 'Processing',
                        createdAt: serverTimestamp(),
                        orderNumber: 'ORD-' + Date.now().toString().slice(-8),
                        estimatedDelivery: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
                    };

                    // Add order to database
                    await addDoc(orderRef, order);

                    // Update user stats
                    const userRef = doc(db, 'artifacts', appId, 'users', uid);
                    await updateDoc(userRef, {
                        'stats.orders': increment(1),
                        'stats.totalSpent': increment(total)
                    });

                    // Clear cart
                    await this.clearCart();

                    // Close modals
                    this.closeModal('checkout-modal');
                    this.toggleCart();

                    // Show success animation
                    setTimeout(() => {
                        this.showLottieAnimation('order');
                    }, 500);

                    // Show success message
                    this.showToast('Order placed successfully!', 'success');

                    // Navigate to orders
                    setTimeout(() => {
                        this.router('orders');
                    }, 2000);

                } catch (error) {
                    console.error('Error placing order:', error);
                    this.showToast(error.message, 'error');

                    // Reset button
                    placeOrderBtn.disabled = false;
                    placeOrderBtn.innerHTML = '<i data-lucide="lock"></i> Place Order';
                    lucide.createIcons();
                }
            },

            // Clear Cart
            async clearCart() {
                if (!this.user) return;

                try {
                    const uid = this.user.uid;
                    const cartRef = doc(db, 'artifacts', appId, 'users', uid, 'cart', 'current');

                    await setDoc(cartRef, {
                        items: [],
                        total: 0,
                        updatedAt: serverTimestamp()
                    });

                } catch (error) {
                    console.error('Error clearing cart:', error);
                }
            },

            // Open Auth Modal
            openAuthModal() {
                const modal = document.getElementById('auth-modal');
                if (!modal) return;

                modal.innerHTML = `
                    <div class="modal">
                        <div class="modal-header">
                            <h2>Welcome to RealStore</h2>
                            <button class="btn btn-icon btn-ghost" onclick="app.closeModal('auth-modal')">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2xl);">
                                <!-- Left Column: Info -->
                                <div>
                                    <div style="margin-bottom: var(--space-2xl);">
                                        <div class="logo" style="font-size: 2rem; margin-bottom: var(--space-md);">
                                            <div class="logo-icon">
                                                <i data-lucide="gem"></i>
                                            </div>
                                            RealStore
                                        </div>
                                        <p style="color: var(--text-secondary);">
                                            Join our premium community for exclusive access to luxury products and personalized experiences.
                                        </p>
                                    </div>
                                    
                                    <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                                        <div style="display: flex; align-items: center; gap: var(--space-md);">
                                            <div style="width: 40px; height: 40px; background: var(--accent); color: white; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="check"></i>
                                            </div>
                                            <div>
                                                <div style="font-weight: 600;">Exclusive Access</div>
                                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Early access to new collections</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: var(--space-md);">
                                            <div style="width: 40px; height: 40px; background: var(--accent); color: white; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="check"></i>
                                            </div>
                                            <div>
                                                <div style="font-weight: 600;">Free Shipping</div>
                                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Worldwide free express shipping</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: var(--space-md);">
                                            <div style="width: 40px; height: 40px; background: var(--accent); color: white; border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;">
                                                <i data-lucide="check"></i>
                                            </div>
                                            <div>
                                                <div style="font-weight: 600;">Premium Support</div>
                                                <div style="color: var(--text-secondary); font-size: 0.9rem;">24/7 dedicated support</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Right Column: Forms -->
                                <div>
                                    <!-- Tabs -->
                                    <div style="display: flex; border-bottom: 2px solid rgba(59, 130, 246, 0.1); margin-bottom: var(--space-xl);">
                                        <button class="auth-tab active" onclick="app.switchAuthTab('login')" style="flex: 1; padding: var(--space-md); background: none; border: none; border-bottom: 3px solid var(--accent); font-weight: 600; color: var(--accent); cursor: pointer;">
                                            Sign In
                                        </button>
                                        <button class="auth-tab" onclick="app.switchAuthTab('register')" style="flex: 1; padding: var(--space-md); background: none; border: none; border-bottom: 3px solid transparent; font-weight: 600; color: var(--text-secondary); cursor: pointer;">
                                            Create Account
                                        </button>
                                    </div>
                                    
                                    <!-- Login Form -->
                                    <form id="login-form" onsubmit="app.handleEmailLogin(event)" style="display: block;">
                                        <div style="display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                            <input type="email" placeholder="Email Address" class="form-input" id="login-email" required>
                                            <input type="password" placeholder="Password" class="form-input" id="login-password" required>
                                            <button type="submit" class="btn btn-primary" id="login-btn">
                                                <span id="login-text">Sign In</span>
                                                <div class="loading" id="login-loading" style="display: none;"></div>
                                            </button>
                                        </div>
                                        
                                        <div style="text-align: center; margin-bottom: var(--space-xl);">
                                            <a href="#" onclick="app.showForgotPassword()" style="color: var(--accent); font-size: 0.9rem;">Forgot password?</a>
                                        </div>
                                        
                                        <div style="display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                            <div style="flex: 1; height: 1px; background: rgba(59, 130, 246, 0.1);"></div>
                                            <span style="color: var(--text-secondary); font-size: 0.9rem;">Or continue with</span>
                                            <div style="flex: 1; height: 1px; background: rgba(59, 130, 246, 0.1);"></div>
                                        </div>
                                        
                                        <button type="button" class="btn btn-outline" style="width: 100%; margin-bottom: var(--space-md);" onclick="app.handleGoogleLogin()">
                                            <i data-lucide="chrome"></i>
                                            Continue with Google
                                        </button>
                                        
                                        <button type="button" class="btn btn-ghost" style="width: 100%;" onclick="app.guestLogin()">
                                            Continue as Guest
                                        </button>
                                    </form>
                                    
                                    <!-- Register Form -->
                                    <form id="register-form" onsubmit="app.handleRegister(event)" style="display: none;">
                                        <div style="display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                            <input type="text" placeholder="Full Name" class="form-input" id="register-name" required>
                                            <input type="email" placeholder="Email Address" class="form-input" id="register-email" required>
                                            <input type="password" placeholder="Password" class="form-input" id="register-password" required minlength="6">
                                            <input type="password" placeholder="Confirm Password" class="form-input" id="register-confirm" required minlength="6">
                                            <button type="submit" class="btn btn-primary" id="register-btn">
                                                <span id="register-text">Create Account</span>
                                                <div class="loading" id="register-loading" style="display: none;"></div>
                                            </button>
                                        </div>
                                        
                                        <p style="text-align: center; color: var(--text-secondary); font-size: 0.8rem; line-height: 1.5;">
                                            By creating an account, you agree to our <a href="#" style="color: var(--accent);">Terms of Service</a> and <a href="#" style="color: var(--accent);">Privacy Policy</a>.
                                        </p>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                modal.classList.add('active');
                lucide.createIcons();

                // Initialize form validation
                this.initAuthForms();
            },

            // Close Modal
            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                if (modal) {
                    modal.classList.remove('active');
                }
            },

            // Switch Auth Tab
            switchAuthTab(tab) {
                const loginForm = document.getElementById('login-form');
                const registerForm = document.getElementById('register-form');
                const loginTab = document.querySelector('.auth-tab:nth-child(1)');
                const registerTab = document.querySelector('.auth-tab:nth-child(2)');

                if (tab === 'login') {
                    loginForm.style.display = 'block';
                    registerForm.style.display = 'none';
                    loginTab.classList.add('active');
                    loginTab.style.color = 'var(--accent)';
                    loginTab.style.borderBottomColor = 'var(--accent)';
                    registerTab.classList.remove('active');
                    registerTab.style.color = 'var(--text-secondary)';
                    registerTab.style.borderBottomColor = 'transparent';
                } else {
                    loginForm.style.display = 'none';
                    registerForm.style.display = 'block';
                    registerTab.classList.add('active');
                    registerTab.style.color = 'var(--accent)';
                    registerTab.style.borderBottomColor = 'var(--accent)';
                    loginTab.classList.remove('active');
                    loginTab.style.color = 'var(--text-secondary)';
                    loginTab.style.borderBottomColor = 'transparent';
                }
            },

            // Initialize Auth Forms
            initAuthForms() {
                // Add form validation
                const forms = document.querySelectorAll('form');
                forms.forEach(form => {
                    form.addEventListener('submit', (e) => {
                        e.preventDefault();
                        // Validation will be handled in specific methods
                    });
                });
            },

            // Handle Email Login
            async handleEmailLogin(e) {
                e.preventDefault();

                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                const loginBtn = document.getElementById('login-btn');
                const loginText = document.getElementById('login-text');
                const loginLoading = document.getElementById('login-loading');

                // Validation
                if (!email || !password) {
                    this.showToast('Please fill in all fields', 'warning');
                    return;
                }

                // Show loading
                loginText.style.display = 'none';
                loginLoading.style.display = 'inline-block';
                loginBtn.disabled = true;

                try {
                    await signInWithEmailAndPassword(auth, email, password);

                    // Close modal
                    this.closeModal('auth-modal');

                    // Show welcome animation
                    setTimeout(() => {
                        this.showLottieAnimation('login');
                    }, 500);

                    this.showToast('Welcome back!', 'success');

                } catch (error) {
                    console.error('Login error:', error);

                    let message = 'Login failed';
                    if (error.code === 'auth/invalid-credential') {
                        message = 'Invalid email or password';
                    } else if (error.code === 'auth/user-not-found') {
                        message = 'No account found with this email';
                    } else if (error.code === 'auth/wrong-password') {
                        message = 'Incorrect password';
                    } else if (error.code === 'auth/too-many-requests') {
                        message = 'Too many attempts. Please try again later';
                    }

                    this.showToast(message, 'error');

                    // Reset button
                    loginText.style.display = 'inline';
                    loginLoading.style.display = 'none';
                    loginBtn.disabled = false;
                }
            },

            // Handle Register
            async handleRegister(e) {
                e.preventDefault();

                const name = document.getElementById('register-name').value;
                const email = document.getElementById('register-email').value;
                const password = document.getElementById('register-password').value;
                const confirm = document.getElementById('register-confirm').value;
                const registerBtn = document.getElementById('register-btn');
                const registerText = document.getElementById('register-text');
                const registerLoading = document.getElementById('register-loading');

                // Validation
                if (!name || !email || !password || !confirm) {
                    this.showToast('Please fill in all fields', 'warning');
                    return;
                }

                if (password !== confirm) {
                    this.showToast('Passwords do not match', 'error');
                    return;
                }

                if (password.length < 6) {
                    this.showToast('Password must be at least 6 characters', 'error');
                    return;
                }

                // Show loading
                registerText.style.display = 'none';
                registerLoading.style.display = 'inline-block';
                registerBtn.disabled = true;

                try {
                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);

                    // Update profile with display name
                    await updateProfile(userCredential.user, {
                        displayName: name
                    });

                    // Send verification email
                    await sendEmailVerification(userCredential.user);

                    // Close modal
                    this.closeModal('auth-modal');

                    // Show welcome animation
                    setTimeout(() => {
                        this.showLottieAnimation('login');
                    }, 500);

                    this.showToast('Account created successfully! Please check your email for verification.', 'success');

                } catch (error) {
                    console.error('Registration error:', error);

                    let message = 'Registration failed';
                    if (error.code === 'auth/email-already-in-use') {
                        message = 'Email already in use';
                    } else if (error.code === 'auth/invalid-email') {
                        message = 'Invalid email address';
                    } else if (error.code === 'auth/weak-password') {
                        message = 'Password is too weak';
                    }

                    this.showToast(message, 'error');

                    // Reset button
                    registerText.style.display = 'inline';
                    registerLoading.style.display = 'none';
                    registerBtn.disabled = false;
                }
            },

            // Handle Google Login
            async handleGoogleLogin() {
                try {
                    const provider = new GoogleAuthProvider();
                    provider.addScope('profile');
                    provider.addScope('email');

                    const result = await signInWithPopup(auth, provider);

                    // Close modal
                    this.closeModal('auth-modal');

                    // Show welcome animation
                    setTimeout(() => {
                        this.showLottieAnimation('login');
                    }, 500);

                    this.showToast('Signed in with Google', 'success');

                } catch (error) {
                    console.error('Google login error:', error);

                    let message = 'Google login failed';
                    if (error.code === 'auth/popup-closed-by-user') {
                        message = 'Popup closed by user';
                    } else if (error.code === 'auth/cancelled-popup-request') {
                        message = 'Popup cancelled';
                    }

                    this.showToast(message, 'error');
                }
            },

            // Guest Login
            async guestLogin() {
                try {
                    await signInAnonymously(auth);

                    // Close modal
                    this.closeModal('auth-modal');

                    this.showToast('Continuing as guest', 'info');

                } catch (error) {
                    console.error('Guest login error:', error);
                    this.showToast('Guest login failed', 'error');
                }
            },

            // Show Forgot Password
            showForgotPassword() {
                const modal = document.getElementById('auth-modal');
                if (!modal) return;

                modal.innerHTML = `
                    <div class="modal">
                        <div class="modal-header">
                            <h2>Reset Password</h2>
                            <button class="btn btn-icon btn-ghost" onclick="app.openAuthModal()">
                                <i data-lucide="arrow-left"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="max-width: 400px; margin: 0 auto;">
                                <p style="color: var(--text-secondary); margin-bottom: var(--space-xl); text-align: center;">
                                    Enter your email address and we'll send you a link to reset your password.
                                </p>
                                
                                <div style="display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                    <input type="email" placeholder="Email Address" class="form-input" id="reset-email">
                                    <button class="btn btn-primary" onclick="app.sendPasswordReset()" id="reset-btn">
                                        <span id="reset-text">Send Reset Link</span>
                                        <div class="loading" id="reset-loading" style="display: none;"></div>
                                    </button>
                                </div>
                                
                                <div style="text-align: center;">
                                    <a href="#" onclick="app.openAuthModal()" style="color: var(--accent); font-size: 0.9rem;">Back to login</a>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                lucide.createIcons();
            },

            // Send Password Reset
            async sendPasswordReset() {
                const email = document.getElementById('reset-email').value;
                const resetBtn = document.getElementById('reset-btn');
                const resetText = document.getElementById('reset-text');
                const resetLoading = document.getElementById('reset-loading');

                if (!email) {
                    this.showToast('Please enter your email address', 'warning');
                    return;
                }

                // Show loading
                resetText.style.display = 'none';
                resetLoading.style.display = 'inline-block';
                resetBtn.disabled = true;

                try {
                    await sendPasswordResetEmail(auth, email);

                    this.showToast('Password reset email sent! Check your inbox.', 'success');

                    // Go back to login
                    setTimeout(() => {
                        this.openAuthModal();
                    }, 2000);

                } catch (error) {
                    console.error('Password reset error:', error);

                    let message = 'Failed to send reset email';
                    if (error.code === 'auth/user-not-found') {
                        message = 'No account found with this email';
                    } else if (error.code === 'auth/invalid-email') {
                        message = 'Invalid email address';
                    }

                    this.showToast(message, 'error');

                    // Reset button
                    resetText.style.display = 'inline';
                    resetLoading.style.display = 'none';
                    resetBtn.disabled = false;
                }
            },

            // Logout
            async logout() {
                try {
                    await signOut(auth);
                    this.showToast('Signed out successfully', 'info');
                    this.router('home');
                } catch (error) {
                    console.error('Logout error:', error);
                    this.showToast('Logout failed', 'error');
                }
            },

            // Show Lottie Animation
            showLottieAnimation(type) {
                const container = document.getElementById(`lottie-${type}`);
                if (!container) return;

                container.classList.add('active');

                // Play animation
                const player = container.querySelector('lottie-player');
                if (player) {
                    player.play();
                }

                // Prevent body scrolling
                document.body.style.overflow = 'hidden';
            },

            // Hide Lottie Animation
            hideLottieAnimation(type) {
                const container = document.getElementById(`lottie-${type}`);
                if (!container) return;

                // Stop animation
                const player = container.querySelector('lottie-player');
                if (player) {
                    player.stop();
                }

                // Hide container
                container.classList.remove('active');

                // Re-enable body scrolling
                document.body.style.overflow = '';
            },

            // Show Toast Notification
            showToast(message, type = 'info', duration = 5000) {
                const container = document.getElementById('toast-container');
                if (!container) return;

                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;
                toast.style.cssText = `
                    position: relative;
                    padding: 1rem 1.5rem;
                    background: ${type === 'success' ? 'var(--success)' :
                        type === 'error' ? 'var(--error)' :
                            type === 'warning' ? 'var(--warning)' :
                                'var(--info)'};
                    color: white;
                    border-radius: var(--radius-lg);
                    box-shadow: var(--shadow-lg);
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    animation: slideInRight 0.3s ease-out;
                    margin-bottom: 0.75rem;
                    max-width: 350px;
                `;

                toast.innerHTML = `
                    <i data-lucide="${type === 'success' ? 'check-circle' :
                        type === 'error' ? 'alert-circle' :
                            type === 'warning' ? 'alert-triangle' :
                                'info'}"></i>
                    <span style="flex: 1;">${message}</span>
                    <button onclick="this.parentElement.remove()" style="background: none; border: none; color: white; cursor: pointer; opacity: 0.7; padding: 0.25rem;">
                        <i data-lucide="x"></i>
                    </button>
                `;

                container.appendChild(toast);
                lucide.createIcons();

                // Remove toast after duration
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.style.opacity = '0';
                        toast.style.transform = 'translateX(100%)';
                        setTimeout(() => {
                            if (toast.parentNode) toast.remove();
                        }, 300);
                    }
                }, duration);
            },

            // Router
            router(view) {
                this.currentView = view;

                // Hide all views
                document.querySelectorAll('.view').forEach(v => {
                    v.style.display = 'none';
                });

                // Update bottom nav active state
                document.querySelectorAll('.bottom-nav-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('onclick')?.includes(`'${view}'`)) {
                        item.classList.add('active');
                    }
                });

                // Show current view
                const currentView = document.getElementById(`view-${view}`);
                if (currentView) {
                    currentView.style.display = 'block';

                    // Scroll to top
                    window.scrollTo({ top: 0, behavior: 'smooth' });

                    // Update navigation active state
                    this.updateNavigation(view);

                    // Load view-specific content
                    this.loadViewContent(view);
                }
            },

            // Update Navigation
            updateNavigation(view) {
                // Update navigation indicators based on view
                // This would be expanded based on your navigation structure
            },

            // Load View Content
            loadViewContent(view) {
                switch (view) {
                    case 'home':
                        // Home is already loaded
                        break;
                    case 'wishlist':
                        this.loadWishlistView();
                        break;
                    case 'account':
                        this.loadAccountView();
                        break;
                    case 'orders':
                        this.loadOrdersView();
                        break;
                    case 'settings':
                        this.loadSettingsView();
                        break;
                    case 'admin':
                        this.loadAdminView();
                        break;
                    case 'product-detail':
                        this.loadProductDetailView();
                        break;
                    case 'categories':
                        this.loadCategoriesView();
                        break;
                    case 'cart':
                        this.loadCartView();
                        break;
                }
            },

            // Load Wishlist View
            loadWishlistView() {
                const container = document.getElementById('view-wishlist');
                if (!container) return;

                const wishlistProducts = this.products.filter(p => this.wishlist.includes(p.id));

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">My Wishlist</h1>
                            <p class="hero-subtitle">Your curated collection of favorite products</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div class="section-header">
                            <div>
                                <h2>Saved Items (${wishlistProducts.length})</h2>
                                <p class="text-muted">Products you've added to your wishlist</p>
                            </div>
                            ${wishlistProducts.length > 0 ? `
                                <button class="btn btn-outline" onclick="app.clearWishlist()">
                                    <i data-lucide="trash-2"></i>
                                    Clear All
                                </button>
                            ` : ''}
                        </div>
                        
                        ${wishlistProducts.length > 0 ? `
                            <div class="products-grid">
                                ${wishlistProducts.map(product => `
                                    <div class="product-card slide-in">
                                        <div class="product-badges">
                                            ${product.isNew ? '<span class="badge badge-new">New</span>' : ''}
                                            ${product.onSale ? '<span class="badge badge-sale">Sale</span>' : ''}
                                            ${product.isLimited ? '<span class="badge badge-limited">Limited</span>' : ''}
                                        </div>
                                        
                                        <div class="product-image" onclick="app.showProductDetail('${product.id}')">
                                            <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&q=80'}" alt="${product.name}" loading="lazy">
                                        </div>
                                        
                                        <div class="product-actions">
                                            <button class="product-action-btn active" onclick="app.toggleWishlist('${product.id}')">
                                                <i data-lucide="heart"></i>
                                            </button>
                                            <button class="product-action-btn" onclick="app.addToCart('${product.id}')">
                                                <i data-lucide="shopping-bag"></i>
                                            </button>
                                        </div>
                                        
                                        <div class="product-content">
                                            <div class="product-category">${product.category || 'Uncategorized'}</div>
                                            <h3 class="product-title">${product.name || 'Premium Product'}</h3>
                                            <div class="product-footer">
                                                <div class="product-price">
                                                    $${product.price?.toFixed(2) || '0.00'}
                                                </div>
                                                <button class="btn btn-primary btn-sm" onclick="app.addToCart('${product.id}')">
                                                    <i data-lucide="plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        ` : `
                            <div style="text-align: center; padding: var(--space-3xl);">
                                <div class="glass" style="padding: var(--space-2xl); display: inline-block;">
                                    <i data-lucide="heart" style="width: 64px; height: 64px; color: var(--text-tertiary); margin-bottom: var(--space-lg);"></i>
                                    <h3 style="margin-bottom: var(--space-md);">Your wishlist is empty</h3>
                                    <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                                        Save products you love to buy them later
                                    </p>
                                    <button class="btn btn-primary" onclick="app.router('home')">
                                        Browse Products
                                    </button>
                                </div>
                            </div>
                        `}
                    </section>
                `;

                lucide.createIcons();
            },

            // Clear Wishlist
            async clearWishlist() {
                if (!this.user || this.wishlist.length === 0) return;

                if (!confirm('Are you sure you want to clear your wishlist?')) return;

                try {
                    const uid = this.user.uid;
                    const wishlistRef = doc(db, 'artifacts', appId, 'users', uid, 'wishlist', 'current');

                    await setDoc(wishlistRef, {
                        items: [],
                        updatedAt: serverTimestamp()
                    });

                    this.showToast('Wishlist cleared', 'info');

                } catch (error) {
                    console.error('Error clearing wishlist:', error);
                    this.showToast('Error clearing wishlist', 'error');
                }
            },

            // Load Account View
            loadAccountView() {
                const container = document.getElementById('view-account');
                if (!container) return;

                const displayName = this.user?.displayName || 'User';
                const email = this.user?.email || 'Not signed in';
                const memberSince = this.user?.metadata?.creationTime ?
                    new Date(this.user.metadata.creationTime).toLocaleDateString() : 'N/A';

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">My Account</h1>
                            <p class="hero-subtitle">Manage your profile, orders, and preferences</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            <!-- Profile Overview -->
                            <div class="glass" style="padding: var(--space-2xl); margin-bottom: var(--space-2xl);">
                                <div style="display: flex; align-items: center; gap: var(--space-xl); margin-bottom: var(--space-2xl);">
                                    <div style="width: 100px; height: 100px; background: var(--accent-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: white; font-weight: 700;">
                                        ${displayName.charAt(0).toUpperCase()}
                                    </div>
                                    <div style="flex: 1;">
                                        <h2 style="margin-bottom: var(--space-xs);">${displayName}</h2>
                                        <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">${email}</p>
                                        <div style="display: flex; gap: var(--space-md);">
                                            <button class="btn btn-outline btn-sm" onclick="app.editProfile()">
                                                <i data-lucide="edit"></i>
                                                Edit Profile
                                            </button>
                                            <button class="btn btn-outline btn-sm" onclick="app.router('settings')">
                                                <i data-lucide="settings"></i>
                                                Settings
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Stats -->
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg);">
                                    <div class="stat-card glass" style="padding: var(--space-lg); text-align: center;">
                                        <div style="font-size: 2rem; font-weight: 900; color: var(--accent); margin-bottom: var(--space-xs);">
                                            ${this.orders.length}
                                        </div>
                                        <div style="color: var(--text-secondary);">Total Orders</div>
                                    </div>
                                    <div class="stat-card glass" style="padding: var(--space-lg); text-align: center;">
                                        <div style="font-size: 2rem; font-weight: 900; color: var(--accent); margin-bottom: var(--space-xs);">
                                            ${this.wishlist.length}
                                        </div>
                                        <div style="color: var(--text-secondary);">Wishlist Items</div>
                                    </div>
                                    <div class="stat-card glass" style="padding: var(--space-lg); text-align: center;">
                                        <div style="font-size: 2rem; font-weight: 900; color: var(--accent); margin-bottom: var(--space-xs);">
                                            ${memberSince}
                                        </div>
                                        <div style="color: var(--text-secondary);">Member Since</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions -->
                            <h2 style="margin-bottom: var(--space-xl);">Quick Actions</h2>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-lg); margin-bottom: var(--space-2xl);">
                                <button class="btn btn-outline" style="padding: var(--space-lg); text-align: left;" onclick="app.router('orders')">
                                    <div style="display: flex; align-items: center; gap: var(--space-md);">
                                        <div style="width: 48px; height: 48px; background: var(--accent); color: white; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="package"></i>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600;">My Orders</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Track and manage orders</div>
                                        </div>
                                    </div>
                                </button>
                                
                                <button class="btn btn-outline" style="padding: var(--space-lg); text-align: left;" onclick="app.router('wishlist')">
                                    <div style="display: flex; align-items: center; gap: var(--space-md);">
                                        <div style="width: 48px; height: 48px; background: var(--accent); color: white; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="heart"></i>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600;">Wishlist</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Saved items</div>
                                        </div>
                                    </div>
                                </button>
                                
                                <button class="btn btn-outline" style="padding: var(--space-lg); text-align: left;" onclick="app.openAddressBook()">
                                    <div style="display: flex; align-items: center; gap: var(--space-md);">
                                        <div style="width: 48px; height: 48px; background: var(--accent); color: white; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="map-pin"></i>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600;">Address Book</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Manage addresses</div>
                                        </div>
                                    </div>
                                </button>
                                
                                <button class="btn btn-outline" style="padding: var(--space-lg); text-align: left;" onclick="app.router('settings')">
                                    <div style="display: flex; align-items: center; gap: var(--space-md);">
                                        <div style="width: 48px; height: 48px; background: var(--accent); color: white; border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;">
                                            <i data-lucide="settings"></i>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600;">Settings</div>
                                            <div style="color: var(--text-secondary); font-size: 0.9rem;">Preferences & security</div>
                                        </div>
                                    </div>
                                </button>
                            </div>
                            
                            <!-- Recent Orders -->
                            <h2 style="margin-bottom: var(--space-xl);">Recent Orders</h2>
                            ${this.orders.length > 0 ? `
                                <div class="glass" style="padding: var(--space-xl);">
                                    ${this.orders.slice(0, 3).map(order => `
                                        <div style="padding: var(--space-lg); border-bottom: 1px solid rgba(59, 130, 246, 0.1);">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-md);">
                                                <div>
                                                    <div style="font-weight: 600;">Order #${order.orderNumber}</div>
                                                    <div style="color: var(--text-secondary); font-size: 0.9rem;">
                                                        ${new Date(order.createdAt?.toDate()).toLocaleDateString()}
                                                    </div>
                                                </div>
                                                <div>
                                                    <span style="font-weight: 700; color: var(--accent);">$${order.total?.toFixed(2)}</span>
                                                    <span style="padding: 0.25rem 0.75rem; background: rgba(16, 185, 129, 0.1); color: var(--success); border-radius: var(--radius-full); font-size: 0.8rem; font-weight: 600; margin-left: var(--space-md);">
                                                        ${order.status}
                                                    </span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: var(--space-md);">
                                                ${order.items?.slice(0, 3).map(item => `
                                                    <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 60px; object-fit: cover; border-radius: var(--radius-sm);">
                                                `).join('')}
                                            </div>
                                            <div style="text-align: right; margin-top: var(--space-md);">
                                                <button class="btn btn-outline btn-sm" onclick="app.viewOrder('${order.id}')">
                                                    View Details
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                    
                                    ${this.orders.length > 3 ? `
                                        <div style="text-align: center; padding-top: var(--space-lg);">
                                            <button class="btn btn-outline" onclick="app.router('orders')">
                                                View All Orders
                                            </button>
                                        </div>
                                    ` : ''}
                                </div>
                            ` : `
                                <div class="glass" style="padding: var(--space-2xl); text-align: center;">
                                    <i data-lucide="package" style="width: 64px; height: 64px; color: var(--text-tertiary); margin-bottom: var(--space-lg);"></i>
                                    <h3 style="margin-bottom: var(--space-md);">No orders yet</h3>
                                    <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                                        Your order history will appear here
                                    </p>
                                    <button class="btn btn-primary" onclick="app.router('home')">
                                        Start Shopping
                                    </button>
                                </div>
                            `}
                        </div>
                    </section>
                `;

                lucide.createIcons();
            },

            // Edit Profile
            editProfile() {
                this.showToast('Edit profile feature coming soon!', 'info');
            },

            // Open Address Book
            openAddressBook() {
                this.showToast('Address book feature coming soon!', 'info');
            },

            // View Order
            viewOrder(orderId) {
                this.showToast('Order details feature coming soon!', 'info');
            },

            // Load Orders View
            loadOrdersView() {
                const container = document.getElementById('view-orders');
                if (!container) return;

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">My Orders</h1>
                            <p class="hero-subtitle">Track and manage all your purchases</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            ${this.orders.length > 0 ? `
                                <div class="glass" style="padding: var(--space-xl);">
                                    ${this.orders.map(order => `
                                        <div style="padding: var(--space-xl); border-bottom: 1px solid rgba(59, 130, 246, 0.1);">
                                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg);">
                                                <div>
                                                    <div style="font-weight: 600; font-size: var(--text-lg);">Order #${order.orderNumber}</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Placed on ${new Date(order.createdAt?.toDate()).toLocaleDateString()}
                                                    </div>
                                                </div>
                                                <div style="text-align: right;">
                                                    <div style="font-weight: 800; color: var(--accent); font-size: var(--text-xl);">
                                                        $${order.total?.toFixed(2)}
                                                    </div>
                                                    <div style="margin-top: var(--space-xs);">
                                                        <span class="order-status ${order.status === 'Processing' ? 'status-processing' :
                        order.status === 'Shipped' ? 'status-shipped' :
                            order.status === 'Delivered' ? 'status-delivered' :
                                'status-cancelled'}">
                                                            ${order.status}
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-lg);">
                                                ${order.items?.slice(0, 4).map(item => `
                                                    <img src="${item.image}" alt="${item.name}" style="width: 60px; height: 60px; object-fit: cover; border-radius: var(--radius-sm);">
                                                `).join('')}
                                                ${order.items?.length > 4 ? `
                                                    <div style="width: 60px; height: 60px; background: rgba(59, 130, 246, 0.1); border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; color: var(--accent); font-weight: 600;">
                                                        +${order.items.length - 4}
                                                    </div>
                                                ` : ''}
                                            </div>
                                            
                                            <div style="display: flex; justify-content: flex-end; gap: var(--space-md);">
                                                <button class="btn btn-outline btn-sm" onclick="app.viewOrder('${order.id}')">
                                                    <i data-lucide="eye"></i>
                                                    View Details
                                                </button>
                                                <button class="btn btn-primary btn-sm" onclick="app.trackOrder('${order.id}')">
                                                    <i data-lucide="package"></i>
                                                    Track Order
                                                </button>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            ` : `
                                <div class="glass" style="padding: var(--space-3xl); text-align: center;">
                                    <i data-lucide="package" style="width: 80px; height: 80px; color: var(--text-tertiary); margin-bottom: var(--space-lg);"></i>
                                    <h2 style="margin-bottom: var(--space-md);">No orders yet</h2>
                                    <p style="color: var(--text-secondary); margin-bottom: var(--space-xl); max-width: 500px; margin-left: auto; margin-right: auto;">
                                        You haven't placed any orders yet. Start shopping to discover our premium collection.
                                    </p>
                                    <button class="btn btn-primary btn-lg" onclick="app.router('home')">
                                        <i data-lucide="shopping-bag"></i>
                                        Start Shopping
                                    </button>
                                </div>
                            `}
                        </div>
                    </section>
                `;

                lucide.createIcons();
            },

            // Track Order
            trackOrder(orderId) {
                this.showToast('Order tracking feature coming soon!', 'info');
            },

            // Load Settings View
            loadSettingsView() {
                const container = document.getElementById('view-settings');
                if (!container) return;

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">Settings</h1>
                            <p class="hero-subtitle">Customize your RealStore experience</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            <div class="glass" style="padding: var(--space-2xl);">
                                <div style="display: grid; grid-template-columns: 1fr; gap: var(--space-2xl);">
                                    <!-- Account Settings -->
                                    <div>
                                        <h2 style="margin-bottom: var(--space-xl); color: var(--accent);">Account Settings</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-lg);">
                                            <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-lg); background: rgba(59, 130, 246, 0.05); border-radius: var(--radius-lg);">
                                                <div>
                                                    <div style="font-weight: 600;">Email Notifications</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Receive updates about your orders and promotions
                                                    </div>
                                                </div>
                                                <label class="switch">
                                                    <input type="checkbox" checked>
                                                    <span class="slider"></span>
                                                </label>
                                            </div>
                                            
                                            <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-lg); background: rgba(59, 130, 246, 0.05); border-radius: var(--radius-lg);">
                                                <div>
                                                    <div style="font-weight: 600;">SMS Notifications</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Get order updates via text message
                                                    </div>
                                                </div>
                                                <label class="switch">
                                                    <input type="checkbox">
                                                    <span class="slider"></span>
                                                </label>
                                            </div>
                                            
                                            <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-lg); background: rgba(59, 130, 246, 0.05); border-radius: var(--radius-lg);">
                                                <div>
                                                    <div style="font-weight: 600;">Two-Factor Authentication</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Add an extra layer of security to your account
                                                    </div>
                                                </div>
                                                <button class="btn btn-outline btn-sm" onclick="app.setupTwoFactorAuth()">
                                                    Enable
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Privacy & Security -->
                                    <div>
                                        <h2 style="margin-bottom: var(--space-xl); color: var(--accent);">Privacy & Security</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-lg);">
                                            <button class="btn btn-outline" style="justify-content: space-between; text-align: left;" onclick="app.changePassword()">
                                                <span>
                                                    <div style="font-weight: 600;">Change Password</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Update your account password
                                                    </div>
                                                </span>
                                                <i data-lucide="chevron-right"></i>
                                            </button>
                                            
                                            <button class="btn btn-outline" style="justify-content: space-between; text-align: left;" onclick="app.manageDevices()">
                                                <span>
                                                    <div style="font-weight: 600;">Manage Devices</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        View and manage logged-in devices
                                                    </div>
                                                </span>
                                                <i data-lucide="chevron-right"></i>
                                            </button>
                                            
                                            <button class="btn btn-outline" style="justify-content: space-between; text-align: left;" onclick="app.exportData()">
                                                <span>
                                                    <div style="font-weight: 600;">Export Data</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Download a copy of your data
                                                    </div>
                                                </span>
                                                <i data-lucide="chevron-right"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Theme Settings -->
                                    <div>
                                        <h2 style="margin-bottom: var(--space-xl); color: var(--accent);">Appearance</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-lg);">
                                            <div style="display: flex; align-items: center; justify-content: space-between; padding: var(--space-lg); background: rgba(59, 130, 246, 0.05); border-radius: var(--radius-lg);">
                                                <div>
                                                    <div style="font-weight: 600;">Dark Mode</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Switch between light and dark themes
                                                    </div>
                                                </div>
                                                <label class="switch">
                                                    <input type="checkbox" ${this.isDarkMode ? 'checked' : ''} onchange="app.toggleTheme()">
                                                    <span class="slider"></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Danger Zone -->
                                    <div>
                                        <h2 style="margin-bottom: var(--space-xl); color: var(--error);">Danger Zone</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-lg);">
                                            <button class="btn btn-outline" style="justify-content: space-between; text-align: left; color: var(--error); border-color: var(--error);" onclick="app.deleteAccount()">
                                                <span>
                                                    <div style="font-weight: 600;">Delete Account</div>
                                                    <div style="color: var(--text-secondary); font-size: var(--text-sm); margin-top: var(--space-xs);">
                                                        Permanently delete your account and all data
                                                    </div>
                                                </span>
                                                <i data-lucide="trash-2"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <style>
                        .switch {
                            position: relative;
                            display: inline-block;
                            width: 60px;
                            height: 34px;
                        }
                        
                        .switch input {
                            opacity: 0;
                            width: 0;
                            height: 0;
                        }
                        
                        .slider {
                            position: absolute;
                            cursor: pointer;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            background-color: #ccc;
                            transition: .4s;
                            border-radius: 34px;
                        }
                        
                        .slider:before {
                            position: absolute;
                            content: "";
                            height: 26px;
                            width: 26px;
                            left: 4px;
                            bottom: 4px;
                            background-color: white;
                            transition: .4s;
                            border-radius: 50%;
                        }
                        
                        input:checked + .slider {
                            background-color: var(--accent);
                        }
                        
                        input:checked + .slider:before {
                            transform: translateX(26px);
                        }
                    </style>
                `;

                lucide.createIcons();
            },

            // Setup Two-Factor Authentication
            setupTwoFactorAuth() {
                this.showToast('Two-factor authentication feature coming soon!', 'info');
            },

            // Change Password
            changePassword() {
                this.showToast('Change password feature coming soon!', 'info');
            },

            // Manage Devices
            manageDevices() {
                this.showToast('Device management feature coming soon!', 'info');
            },

            // Export Data
            exportData() {
                this.showToast('Data export feature coming soon!', 'info');
            },

            // Delete Account
            deleteAccount() {
                if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
                    this.showToast('Account deletion feature coming soon!', 'info');
                }
            },

            // Load Admin View
            loadAdminView() {
                // Only show for admin users
                if (this.user?.email !== 'admin@example.com') {
                    this.showToast('Admin access required', 'error');
                    this.router('home');
                    return;
                }

                this.showToast('Admin dashboard coming soon!', 'info');
                this.router('account'); // Redirect to account for now
            },

            // Load Product Detail View
            loadProductDetailView() {
                if (!this.currentProduct) {
                    this.router('home');
                    return;
                }

                const container = document.getElementById('view-product-detail');
                if (!container) return;

                const product = this.currentProduct;
                const isInWishlist = this.wishlist.includes(product.id);

                container.innerHTML = `
                    <section class="hero" style="min-height: 60vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <button class="btn btn-secondary" onclick="app.router('home')" style="margin-bottom: var(--space-xl);">
                                <i data-lucide="arrow-left"></i>
                                Back to Products
                            </button>
                            <h1 class="hero-title">${product.name || 'Premium Product'}</h1>
                            <p class="hero-subtitle">${product.description || 'Premium quality product'}</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            <div class="glass" style="padding: var(--space-2xl);">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2xl); margin-bottom: var(--space-2xl);">
                                    <!-- Product Images -->
                                    <div>
                                        <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80'}" alt="${product.name}" style="width: 100%; border-radius: var(--radius-xl); margin-bottom: var(--space-lg);">
                                        <div style="display: flex; gap: var(--space-md);">
                                            <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&q=80'}" alt="${product.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: var(--radius-md); border: 2px solid var(--accent);">
                                            <!-- Additional images would go here -->
                                        </div>
                                    </div>
                                    
                                    <!-- Product Info -->
                                    <div>
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-lg);">
                                            <div>
                                                <div class="product-category" style="margin-bottom: var(--space-xs);">${product.category || 'Uncategorized'}</div>
                                                <h2 style="margin-bottom: var(--space-sm);">${product.name || 'Premium Product'}</h2>
                                                <div class="product-rating" style="margin-bottom: var(--space-lg);">
                                                    ${this.generateStarRating(product.rating || 4.5)}
                                                    <span class="rating-count">(${product.reviewCount || '128'} reviews)</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; gap: var(--space-sm);">
                                                <button class="btn btn-icon ${isInWishlist ? 'active' : ''}" onclick="app.toggleWishlist('${product.id}')">
                                                    <i data-lucide="heart"></i>
                                                </button>
                                                <button class="btn btn-icon" onclick="app.shareProduct('${product.id}')">
                                                    <i data-lucide="share-2"></i>
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <div class="product-price" style="font-size: 2.5rem; margin-bottom: var(--space-xl);">
                                            $${product.price?.toFixed(2) || '0.00'}
                                            ${product.originalPrice ?
                        `<span class="product-price old" style="font-size: 1.5rem;">$${product.originalPrice.toFixed(2)}</span>` :
                        ''
                    }
                                        </div>
                                        
                                        <div style="margin-bottom: var(--space-xl);">
                                            <h4 style="margin-bottom: var(--space-md);">Description</h4>
                                            <p style="color: var(--text-secondary); line-height: 1.7;">
                                                ${product.description || 'Premium quality product with exceptional craftsmanship. Made from the finest materials and designed to last.'}
                                            </p>
                                        </div>
                                        
                                        <div style="margin-bottom: var(--space-xl);">
                                            <h4 style="margin-bottom: var(--space-md);">Features</h4>
                                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-md);">
                                                ${(product.features || ['Premium quality', 'Handcrafted', 'Lifetime warranty', 'Free shipping']).map(feature => `
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>${feature}</span>
                                                    </div>
                                                `).join('')}
                                            </div>
                                        </div>
                                        
                                        <div style="display: flex; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                            <div style="flex: 1;">
                                                <label style="display: block; margin-bottom: var(--space-xs); font-weight: 600;">Quantity</label>
                                                <div class="quantity-selector">
                                                    <button class="quantity-btn" onclick="app.decreaseQuantity()">
                                                        <i data-lucide="minus"></i>
                                                    </button>
                                                    <input type="number" value="1" min="1" max="10" class="quantity-input" id="product-quantity">
                                                    <button class="quantity-btn" onclick="app.increaseQuantity()">
                                                        <i data-lucide="plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div style="flex: 1;">
                                                <label style="display: block; margin-bottom: var(--space-xs); font-weight: 600;">Color</label>
                                                <select style="width: 100%; padding: var(--space-sm); border: 2px solid rgba(59, 130, 246, 0.1); border-radius: var(--radius-md);" id="product-color">
                                                    <option>Black</option>
                                                    <option>White</option>
                                                    <option>Blue</option>
                                                    <option>Gold</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div style="display: flex; gap: var(--space-md);">
                                            <button class="btn btn-primary" style="flex: 2;" onclick="app.addToCart('${product.id}', parseInt(document.getElementById('product-quantity').value))">
                                                <i data-lucide="shopping-bag"></i>
                                                Add to Cart
                                            </button>
                                            <button class="btn btn-outline" style="flex: 1;" onclick="app.buyNow('${product.id}')">
                                                <i data-lucide="zap"></i>
                                                Buy Now
                                            </button>
                                        </div>
                                        
                                        <!-- Stock Availability -->
                                        <div class="stock-availability" style="margin-top: var(--space-xl);">
                                            <div class="stock-status in-stock">
                                                <i data-lucide="check-circle"></i>
                                                <span>In Stock</span>
                                            </div>
                                            <div class="stock-progress">
                                                <div class="stock-progress-fill high"></div>
                                            </div>
                                            <div class="stock-quantity">Only 15 items left</div>
                                        </div>
                                        
                                        <!-- Delivery Estimate -->
                                        <div class="delivery-estimate" style="margin-top: var(--space-xl);">
                                            <h4 style="margin-bottom: var(--space-sm);">Delivery Options</h4>
                                            <div class="delivery-options">
                                                <div class="delivery-option">
                                                    <span class="delivery-method">Standard Shipping</span>
                                                    <span class="delivery-time">3-5 business days</span>
                                                    <span class="delivery-price">$5.99</span>
                                                </div>
                                                <div class="delivery-option">
                                                    <span class="delivery-method">Express Shipping</span>
                                                    <span class="delivery-time">1-2 business days</span>
                                                    <span class="delivery-price">$12.99</span>
                                                </div>
                                                <div class="delivery-option">
                                                    <span class="delivery-method">Free Shipping</span>
                                                    <span class="delivery-time">5-7 business days</span>
                                                    <span class="delivery-price">FREE</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Additional Info Tabs -->
                                <div>
                                    <div style="display: flex; border-bottom: 2px solid rgba(59, 130, 246, 0.1); margin-bottom: var(--space-xl);">
                                        <button class="detail-tab active" onclick="app.switchDetailTab('specifications')" style="padding: var(--space-md); background: none; border: none; border-bottom: 3px solid var(--accent); font-weight: 600; color: var(--accent); cursor: pointer;">
                                            Specifications
                                        </button>
                                        <button class="detail-tab" onclick="app.switchDetailTab('reviews')" style="padding: var(--space-md); background: none; border: none; border-bottom: 3px solid transparent; font-weight: 600; color: var(--text-secondary); cursor: pointer;">
                                            Reviews
                                        </button>
                                        <button class="detail-tab" onclick="app.switchDetailTab('shipping')" style="padding: var(--space-md); background: none; border: none; border-bottom: 3px solid transparent; font-weight: 600; color: var(--text-secondary); cursor: pointer;">
                                            Shipping & Returns
                                        </button>
                                    </div>
                                    
                                    <div id="detail-specifications" style="display: block;">
                                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-lg);">
                                            <div>
                                                <h4 style="margin-bottom: var(--space-md);">Product Details</h4>
                                                <table class="attributes-table">
                                                    <tr>
                                                        <td class="attribute-name">Material</td>
                                                        <td class="attribute-value">${product.material || 'Premium materials'}</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attribute-name">Dimensions</td>
                                                        <td class="attribute-value">${product.dimensions || 'Varies'}</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attribute-name">Weight</td>
                                                        <td class="attribute-value">${product.weight || 'Varies'}</td>
                                                    </tr>
                                                    <tr>
                                                        <td class="attribute-name">Warranty</td>
                                                        <td class="attribute-value">${product.warranty || 'Lifetime'}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                            
                                            <div>
                                                <h4 style="margin-bottom: var(--space-md);">Shipping Information</h4>
                                                <div style="display: flex; flex-direction: column; gap: var(--space-sm);">
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="truck" style="color: var(--accent);"></i>
                                                        <span>Free worldwide shipping on orders over $100</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="clock" style="color: var(--accent);"></i>
                                                        <span>Delivery in 3-7 business days</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="shield" style="color: var(--accent);"></i>
                                                        <span>Insured delivery</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="refresh-cw" style="color: var(--accent);"></i>
                                                        <span>30-day return policy</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div id="detail-reviews" style="display: none;">
                                        <div class="review-summary">
                                            <div class="average-rating">
                                                <div class="rating-score">4.8</div>
                                                <div class="rating-stars-large">
                                                    ${this.generateStarRating(4.8)}
                                                </div>
                                                <div class="rating-count-text">Based on 128 reviews</div>
                                            </div>
                                            <div class="rating-bars">
                                                <div class="rating-bar">
                                                    <div class="rating-label">5 stars</div>
                                                    <div class="rating-progress">
                                                        <div class="rating-progress-fill" style="width: 85%;"></div>
                                                    </div>
                                                    <div class="rating-percentage">85%</div>
                                                </div>
                                                <div class="rating-bar">
                                                    <div class="rating-label">4 stars</div>
                                                    <div class="rating-progress">
                                                        <div class="rating-progress-fill" style="width: 12%;"></div>
                                                    </div>
                                                    <div class="rating-percentage">12%</div>
                                                </div>
                                                <div class="rating-bar">
                                                    <div class="rating-label">3 stars</div>
                                                    <div class="rating-progress">
                                                        <div class="rating-progress-fill" style="width: 2%;"></div>
                                                    </div>
                                                    <div class="rating-percentage">2%</div>
                                                </div>
                                                <div class="rating-bar">
                                                    <div class="rating-label">2 stars</div>
                                                    <div class="rating-progress">
                                                        <div class="rating-progress-fill" style="width: 1%;"></div>
                                                    </div>
                                                    <div class="rating-percentage">1%</div>
                                                </div>
                                                <div class="rating-bar">
                                                    <div class="rating-label">1 star</div>
                                                    <div class="rating-progress">
                                                        <div class="rating-progress-fill" style="width: 0%;"></div>
                                                    </div>
                                                    <div class="rating-percentage">0%</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="write-review-form" style="margin-top: var(--space-2xl);">
                                            <h3>Write a Review</h3>
                                            <div class="review-rating-input">
                                                <div class="rating-input-label">Your Rating</div>
                                                <div class="star-rating-input">
                                                    <input type="radio" id="star5" name="rating" value="5">
                                                    <label for="star5"></label>
                                                    <input type="radio" id="star4" name="rating" value="4">
                                                    <label for="star4"></label>
                                                    <input type="radio" id="star3" name="rating" value="3">
                                                    <label for="star3"></label>
                                                    <input type="radio" id="star2" name="rating" value="2">
                                                    <label for="star2"></label>
                                                    <input type="radio" id="star1" name="rating" value="1">
                                                    <label for="star1"></label>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <textarea class="form-input" placeholder="Share your experience with this product..." rows="4"></textarea>
                                            </div>
                                            <div class="form-actions">
                                                <button class="btn btn-primary">Submit Review</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div id="detail-shipping" style="display: none;">
                                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-xl);">
                                            <div>
                                                <h4 style="margin-bottom: var(--space-md);">Shipping Policy</h4>
                                                <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--space-lg);">
                                                    We offer worldwide shipping with multiple delivery options. Most orders are processed within 24 hours and shipped via premium carriers.
                                                </p>
                                                <div style="display: flex; flex-direction: column; gap: var(--space-sm);">
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>Free shipping on orders over $100</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>Express shipping available</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>Real-time tracking provided</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div>
                                                <h4 style="margin-bottom: var(--space-md);">Return Policy</h4>
                                                <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: var(--space-lg);">
                                                    We offer a 30-day return policy for all items. Products must be in original condition with all tags attached.
                                                </p>
                                                <div style="display: flex; flex-direction: column; gap: var(--space-sm);">
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>30-day return window</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>Free returns for premium members</span>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                        <i data-lucide="check" style="color: var(--success);"></i>
                                                        <span>Full refund within 5-7 business days</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Related Products -->
                            <div class="related-products">
                                <h2 style="margin-bottom: var(--space-xl);">You May Also Like</h2>
                                <div class="related-products-grid">
                                    ${this.products.slice(0, 4).map(product => `
                                        <div class="product-card" onclick="app.showProductDetail('${product.id}')">
                                            <div class="product-image">
                                                <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&q=80'}" alt="${product.name}" loading="lazy">
                                            </div>
                                            <div class="product-content">
                                                <div class="product-category">${product.category || 'Uncategorized'}</div>
                                                <h3 class="product-title">${product.name || 'Premium Product'}</h3>
                                                <div class="product-footer">
                                                    <div class="product-price">
                                                        $${product.price?.toFixed(2) || '0.00'}
                                                    </div>
                                                    <button class="btn btn-primary btn-sm" onclick="app.addToCart('${product.id}'); event.stopPropagation();">
                                                        <i data-lucide="plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </section>
                `;

                lucide.createIcons();
            },

            // Switch Detail Tab
            switchDetailTab(tab) {
                const tabs = ['specifications', 'reviews', 'shipping'];
                const tabButtons = document.querySelectorAll('.detail-tab');
                const tabContents = document.querySelectorAll('[id^="detail-"]');

                tabs.forEach((t, index) => {
                    const button = tabButtons[index];
                    const content = document.getElementById(`detail-${t}`);

                    if (t === tab) {
                        button.classList.add('active');
                        button.style.color = 'var(--accent)';
                        button.style.borderBottomColor = 'var(--accent)';
                        if (content) content.style.display = 'block';
                    } else {
                        button.classList.remove('active');
                        button.style.color = 'var(--text-secondary)';
                        button.style.borderBottomColor = 'transparent';
                        if (content) content.style.display = 'none';
                    }
                });
            },

            // Decrease Quantity
            decreaseQuantity() {
                const input = document.getElementById('product-quantity');
                if (input && parseInt(input.value) > 1) {
                    input.value = parseInt(input.value) - 1;
                }
            },

            // Increase Quantity
            increaseQuantity() {
                const input = document.getElementById('product-quantity');
                if (input && parseInt(input.value) < 10) {
                    input.value = parseInt(input.value) + 1;
                }
            },

            // Share Product
            shareProduct(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product) return;

                if (navigator.share) {
                    navigator.share({
                        title: product.name,
                        text: `Check out ${product.name} on RealStore!`,
                        url: window.location.href,
                    });
                } else {
                    // Fallback: Copy to clipboard
                    const text = `${product.name} - $${product.price?.toFixed(2)}\n${window.location.href}`;
                    navigator.clipboard.writeText(text);
                    this.showToast('Link copied to clipboard!', 'success');
                }
            },

            // Buy Now
            buyNow(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product) return;

                // Add to cart and go to checkout
                this.addToCart(productId, 1);
                setTimeout(() => {
                    this.checkout();
                }, 500);
            },

            // Load Categories View
            loadCategoriesView() {
                const container = document.getElementById('view-categories');
                if (!container) return;

                const categories = [
                    { name: 'Electronics', icon: 'smartphone', count: 245, color: '#3b82f6' },
                    { name: 'Fashion', icon: 'shirt', count: 189, color: '#8b5cf6' },
                    { name: 'Home & Living', icon: 'home', count: 156, color: '#10b981' },
                    { name: 'Jewelry', icon: 'gem', count: 98, color: '#f59e0b' },
                    { name: 'Watches', icon: 'watch', count: 76, color: '#ef4444' },
                    { name: 'Beauty', icon: 'sparkles', count: 132, color: '#ec4899' },
                    { name: 'Sports', icon: 'dumbbell', count: 87, color: '#06b6d4' },
                    { name: 'Books', icon: 'book-open', count: 54, color: '#84cc16' }
                ];

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">Categories</h1>
                            <p class="hero-subtitle">Browse our premium collection by category</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: var(--space-xl);">
                                ${categories.map(category => `
                                    <div class="glass" style="padding: var(--space-xl); text-align: center; cursor: pointer; transition: all var(--transition-base);" 
                                         onclick="app.filterProducts('${category.name.toLowerCase()}')">
                                        <div style="width: 80px; height: 80px; background: ${category.color}; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto var(--space-lg);">
                                            <i data-lucide="${category.icon}" style="width: 40px; height: 40px; color: white;"></i>
                                        </div>
                                        <h3 style="margin-bottom: var(--space-sm);">${category.name}</h3>
                                        <p style="color: var(--text-secondary);">${category.count} products</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </section>
                `;

                lucide.createIcons();
            },

            // Load Cart View
            loadCartView() {
                const container = document.getElementById('view-cart');
                if (!container) return;

                if (this.cart.length === 0) {
                    container.innerHTML = `
                        <section class="hero" style="min-height: 60vh;">
                            <div class="hero-bg"></div>
                            <div class="hero-content">
                                <h1 class="hero-title">Your Cart</h1>
                                <p class="hero-subtitle">Your shopping cart is currently empty</p>
                                <button class="btn btn-primary btn-lg" onclick="app.router('home')" style="margin-top: var(--space-xl);">
                                    <i data-lucide="shopping-bag"></i>
                                    Start Shopping
                                </button>
                            </div>
                        </section>
                    `;
                    return;
                }

                const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const shipping = total > 100 ? 0 : 10;
                const finalTotal = total + shipping;

                container.innerHTML = `
                    <section class="hero" style="min-height: 40vh;">
                        <div class="hero-bg"></div>
                        <div class="hero-content">
                            <h1 class="hero-title">Your Cart</h1>
                            <p class="hero-subtitle">Review your items before checkout</p>
                        </div>
                    </section>
                    
                    <section class="products-section">
                        <div style="max-width: var(--max-width); margin: 0 auto;">
                            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-2xl);">
                                <!-- Cart Items -->
                                <div>
                                    <div class="glass" style="padding: var(--space-xl);">
                                        <h2 style="margin-bottom: var(--space-xl);">Cart Items (${this.cart.length})</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-xl);">
                                            ${this.cart.map(item => `
                                                <div style="display: flex; gap: var(--space-lg); padding: var(--space-lg); border: 1px solid rgba(59, 130, 246, 0.1); border-radius: var(--radius-lg);">
                                                    <img src="${item.image}" alt="${item.name}" style="width: 120px; height: 120px; object-fit: cover; border-radius: var(--radius-md);">
                                                    <div style="flex: 1;">
                                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-md);">
                                                            <div>
                                                                <h3 style="margin-bottom: var(--space-xs);">${item.name}</h3>
                                                                <p style="color: var(--text-secondary);">$${item.price.toFixed(2)} each</p>
                                                            </div>
                                                            <button class="btn btn-icon btn-sm" onclick="app.removeFromCart('${item.id}')">
                                                                <i data-lucide="trash-2"></i>
                                                            </button>
                                                        </div>
                                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                                            <div class="quantity-selector">
                                                                <button class="quantity-btn" onclick="app.updateCartQuantity('${item.id}', ${item.quantity - 1})">
                                                                    <i data-lucide="minus"></i>
                                                                </button>
                                                                <input type="number" value="${item.quantity}" min="1" max="10" class="quantity-input" onchange="app.updateCartQuantity('${item.id}', this.value)">
                                                                <button class="quantity-btn" onclick="app.updateCartQuantity('${item.id}', ${item.quantity + 1})">
                                                                    <i data-lucide="plus"></i>
                                                                </button>
                                                            </div>
                                                            <div style="font-weight: 800; font-size: var(--text-xl); color: var(--accent);">
                                                                $${(item.price * item.quantity).toFixed(2)}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Order Summary -->
                                <div>
                                    <div class="glass" style="padding: var(--space-xl); position: sticky; top: var(--space-xl);">
                                        <h2 style="margin-bottom: var(--space-xl);">Order Summary</h2>
                                        <div style="display: flex; flex-direction: column; gap: var(--space-md); margin-bottom: var(--space-xl);">
                                            <div style="display: flex; justify-content: space-between;">
                                                <span style="color: var(--text-secondary);">Subtotal</span>
                                                <span style="font-weight: 600;">$${total.toFixed(2)}</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between;">
                                                <span style="color: var(--text-secondary);">Shipping</span>
                                                <span style="font-weight: 600;">${shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`}</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; margin-top: var(--space-md); padding-top: var(--space-md); border-top: 2px solid rgba(59, 130, 246, 0.1);">
                                                <span style="font-weight: 800; font-size: var(--text-xl);">Total</span>
                                                <span style="font-weight: 800; font-size: var(--text-xl); color: var(--accent);">$${finalTotal.toFixed(2)}</span>
                                            </div>
                                        </div>
                                        
                                        <button class="btn btn-primary" style="width: 100%; margin-bottom: var(--space-md);" onclick="app.checkout()">
                                            <i data-lucide="lock"></i>
                                            Proceed to Checkout
                                        </button>
                                        <button class="btn btn-outline" style="width: 100%;" onclick="app.router('home')">
                                            <i data-lucide="arrow-left"></i>
                                            Continue Shopping
                                        </button>
                                        
                                        <div style="margin-top: var(--space-xl); padding-top: var(--space-xl); border-top: 1px solid rgba(59, 130, 246, 0.1);">
                                            <div style="display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-sm);">
                                                <i data-lucide="shield" style="color: var(--success);"></i>
                                                <span style="font-weight: 600;">Secure Payment</span>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                                <i data-lucide="refresh-cw" style="color: var(--success);"></i>
                                                <span style="font-weight: 600;">Easy Returns</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                `;

                lucide.createIcons();
            },

            // Scroll to Products
            scrollToProducts() {
                const productsSection = document.getElementById('products');
                if (productsSection) {
                    productsSection.scrollIntoView({ behavior: 'smooth' });
                }
            },

            // Quick View Modal
            showQuickViewModal() {
                if (!this.currentProduct) return;

                const product = this.currentProduct;
                const isInWishlist = this.wishlist.includes(product.id);

                const modal = document.getElementById('quick-view-modal');
                if (!modal) return;

                modal.innerHTML = `
                    <div class="quick-view-content">
                        <div class="modal-header">
                            <h2>Quick View</h2>
                            <button class="btn btn-icon btn-ghost" onclick="app.closeModal('quick-view-modal')">
                                <i data-lucide="x"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2xl);">
                                <div>
                                    <img src="${product.image || 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&q=80'}" alt="${product.name}" style="width: 100%; border-radius: var(--radius-lg);">
                                </div>
                                <div>
                                    <div class="product-category" style="margin-bottom: var(--space-xs);">${product.category || 'Uncategorized'}</div>
                                    <h3 style="margin-bottom: var(--space-sm);">${product.name || 'Premium Product'}</h3>
                                    <div class="product-rating" style="margin-bottom: var(--space-lg);">
                                        ${this.generateStarRating(product.rating || 4.5)}
                                        <span class="rating-count">(${product.reviewCount || '128'} reviews)</span>
                                    </div>
                                    
                                    <div class="product-price" style="font-size: 2rem; margin-bottom: var(--space-xl);">
                                        $${product.price?.toFixed(2) || '0.00'}
                                        ${product.originalPrice ?
                        `<span class="product-price old" style="font-size: 1.2rem;">$${product.originalPrice.toFixed(2)}</span>` :
                        ''
                    }
                                    </div>
                                    
                                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: var(--space-xl);">
                                        ${product.description || 'Premium quality product with exceptional craftsmanship.'}
                                    </p>
                                    
                                    <div style="display: flex; gap: var(--space-md);">
                                        <button class="btn btn-primary" style="flex: 2;" onclick="app.addToCart('${product.id}'); app.closeModal('quick-view-modal');">
                                            <i data-lucide="shopping-bag"></i>
                                            Add to Cart
                                        </button>
                                        <button class="btn btn-icon ${isInWishlist ? 'active' : ''}" onclick="app.toggleWishlist('${product.id}')">
                                            <i data-lucide="heart"></i>
                                        </button>
                                    </div>
                                    
                                    <div style="margin-top: var(--space-xl); padding-top: var(--space-lg); border-top: 1px solid rgba(59, 130, 246, 0.1);">
                                        <div style="display: flex; gap: var(--space-lg); font-size: 0.9rem; color: var(--text-secondary);">
                                            <div style="display: flex; align-items: center; gap: var(--space-xs);">
                                                <i data-lucide="truck"></i>
                                                <span>Free Shipping</span>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: var(--space-xs);">
                                                <i data-lucide="shield"></i>
                                                <span>2-Year Warranty</span>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: var(--space-xs);">
                                                <i data-lucide="refresh-cw"></i>
                                                <span>30-Day Returns</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;

                modal.classList.add('active');
                lucide.createIcons();
            },

            // Close All Modals
            closeAllModals() {
                const modals = document.querySelectorAll('.modal-overlay');
                modals.forEach(modal => modal.classList.remove('active'));

                const sidebar = document.getElementById('cart-sidebar');
                if (sidebar) sidebar.classList.remove('active');

                const quickView = document.getElementById('quick-view-modal');
                if (quickView) quickView.classList.remove('active');

                const sizeGuide = document.getElementById('size-guide-modal');
                if (sizeGuide) sizeGuide.classList.remove('active');

                const filters = document.getElementById('filters-sidebar');
                if (filters) filters.classList.remove('active');

                const imageEditor = document.getElementById('image-editor');
                if (imageEditor) imageEditor.classList.remove('active');

                const arViewer = document.getElementById('ar-viewer');
                if (arViewer) arViewer.classList.remove('active');

                const tutorial = document.getElementById('interactive-tutorial');
                if (tutorial) tutorial.classList.remove('active');

                const lotties = document.querySelectorAll('.lottie-container');
                lotties.forEach(lottie => lottie.classList.remove('active'));

                // Re-enable body scrolling
                document.body.style.overflow = '';
            }
        };

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', () => {
            app.init();

            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                const dropdown = document.getElementById('user-dropdown');
                if (dropdown && !e.target.closest('.user-menu')) {
                    dropdown.classList.remove('show');
                }

                const searchSuggestions = document.getElementById('search-suggestions');
                if (searchSuggestions && !e.target.closest('.search-container')) {
                    searchSuggestions.style.display = 'none';
                }
            });

            // Close modals with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    app.closeAllModals();
                }
            });

            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            if (mobileMenuBtn) {
                mobileMenuBtn.addEventListener('click', () => {
                    // Toggle mobile menu
                    const navActions = document.querySelector('.nav-actions');
                    if (navActions) {
                        navActions.style.display = navActions.style.display === 'flex' ? 'none' : 'flex';
                    }
                });
            }

            // Handle window resize
            window.addEventListener('resize', () => {
                const navActions = document.querySelector('.nav-actions');
                if (window.innerWidth > 768 && navActions) {
                    navActions.style.display = 'flex';
                }
            });
        });

        // Export app to global scope
        window.app = app;
    </script>
</body>

</html>